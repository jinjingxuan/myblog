# ES2016 - ES2022

> ESå…¨ç§°ECMAScriptï¼ŒECMAScriptæ˜¯ECMAåˆ¶å®šçš„æ ‡å‡†åŒ–è„šæœ¬è¯­è¨€ã€‚ç›®å‰JavaScriptä½¿ç”¨çš„ECMAScriptç‰ˆæœ¬ä¸º[ECMA-417](https://link.juejin.cn/?target=https%3A%2F%2Fecma-international.org%2Fpublications%2Fstandards%2FEcma-417.htm)ã€‚å…³äºECMAçš„æœ€æ–°èµ„è®¯å¯ä»¥æµè§ˆ [ECMA news](https://link.juejin.cn/?target=https%3A%2F%2Fwww.ecma-international.org%2Fnews%2Findex.html)æŸ¥çœ‹ã€‚
>
> ES2016 - ES2022 å¯¹åº”çš„æ˜¯ ES7 - ES13

## ES2016

* Array.prototype.includes
* æ±‚å¹‚è¿ç®—ç¬¦

### Array.prototype.includes

```js
const arr = [1, 3, 5, 2, '8', NaN, -0]
arr.includes(1) // true
arr.includes(1, 2) // false è¯¥æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0
arr.includes('1') // false
arr.includes(NaN) // true
arr.includes(+0) // true
```

### æ±‚å¹‚è¿ç®—ç¬¦

```js
console.log(2**10);// è¾“å‡º1024
console.log(Math.pow(2, 10)) // è¾“å‡º1024
```

## ES2017

- Object.values ä¸ Object.entries
- Object.getOwnPropertyDescriptors
- String.prototype.padStart ä¸ Sting.prototype.padEnd
- å‡½æ•°å‚æ•°ä¸­æ·»åŠ å°¾é€—å·
- async/await

### Object.values ä¸ Object.entries

```js
const obj = {
    foo: 'value1',
    bar: 'value2'
}

console.log(Object.keys(obj))   // é”®
console.log(Object.values(obj)) // å€¼

console.log(Object.entries(obj))
// [["foo", "value1"], ["bar", "value2"]]

// å¯ä»¥ç”¨è¿™ç§æ–¹æ³•æ¥éå†å¯¹è±¡
for(const [key, value] of Object.entries(obj)) {
    console.log(key, value)
}

// å¯¹è±¡è½¬æ¢ä¸ºMap
new Map(Object.entries(obj))
```

### Object.getOwnPropertyDescriptors

è¯¥å‡½æ•°è¿”å›æŒ‡å®šå¯¹è±¡ï¼ˆå‚æ•°ï¼‰çš„æ‰€æœ‰**è‡ªèº«å±æ€§æè¿°ç¬¦**ã€‚æ‰€è°“è‡ªèº«å±æ€§æè¿°ç¬¦å°±æ˜¯åœ¨å¯¹è±¡è‡ªèº«å†…å®šä¹‰ï¼Œä¸æ˜¯é€šè¿‡åŸå‹é“¾ç»§æ‰¿æ¥çš„å±æ€§ã€‚

æè¿°ç¬¦ï¼š

* **writable**ï¼šè¡¨ç¤ºè¯¥å±æ€§çš„å€¼æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹

* **enumerable**ï¼šè¡¨ç¤ºè¯¥å±æ€§ä¼šæ˜¯å¦å‡ºç°åœ¨å¯¹è±¡çš„æšä¸¾å±æ€§ä¸­ã€‚(for...in å’Œ Object.keys)

* **configurable**ï¼šè¡¨ç¤ºå¯¹è±¡çš„å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼Œä»¥åŠé™¤ `value` å’Œ `writable` ç‰¹æ€§å¤–çš„å…¶ä»–ç‰¹æ€§æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ã€‚

```js
const obj = {foo: 'value1', bar: 'value2'}
Object.getOwnPropertyDescriptors(obj)

// è·å–å¯¹è±¡çš„å®Œæ•´æè¿°ä¿¡æ¯
{
  foo: {
    value: "value1",
    writable: true,
    enumerable: true,
    configurable: true
  },
  bar: {
    value: "value2",
    writable: true,
    enumerable: true,
    configurable: true
  }
}
```

### padStart ä¸ padEnd

```js
// padEndå’ŒpadStartå¯ä»¥ä½¿è¾“å‡ºæ›´å·¥æ•´
const books = {
    html: 5,
    css: 16,
    javascript: 128
}
for(const [name, count] of Object.entries(books)) {
    console.log(`${name.padEnd(16, '-')}|${count.toString().padStart(3, '0')}`)
}

// html------------|005
// css-------------|016
// javascript------|128
```

### å°¾é€—å·

```js
const arr = [
    100,
    200,
    300,
]
```

## ES2018

* å¼‚æ­¥è¿­ä»£ for await...of
* Promise.prototype.finally
* å¯¹è±¡ rest/spread
* Regexp
  * dotAll
  * å‘½ååˆ†ç»„æ•è·

### å¼‚æ­¥è¿­ä»£

for...of å†…éƒ¨æ˜¯è¿­ä»£å™¨çš„åº”ç”¨ï¼Œè€Œ for await...of å¯¹åº”çš„æ˜¯å¼‚æ­¥è¿­ä»£å™¨ã€‚

```js
function fetchData(d) {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
        resolve(d)
    }, 1000)
  })
}
const dataList = [1, 2, 3];

const promiseList = [];
dataList.forEach(d => {
    promiseList.push(fetchData(d)); // æ­¤å¤„ fetchData å·²ç»å¼€å§‹æ‰§è¡Œäº†
});

for await (p of promiseList) {
  console.log(p) // éš”ä¸€ç§’åŒæ—¶ä¸”æŒ‰é¡ºåºè¾“å‡º 1,2,3
}
```

> For await...of å°†ä¼šæŒ‰è¿­ä»£é¡ºåºæ”¶åˆ°å“åº”ã€‚é™¤éå½“å‰è¿­ä»£çš„è®¡ç®—å–å†³äºä¹‹å‰çš„ä¸€äº›è¿­ä»£ï¼Œå¦åˆ™å¤§éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯ä¸‹ç”¨ promise.all å³å¯è§£å†³é—®é¢˜ã€‚

```js
const promiseList = [];
dataList.forEach(d => {
    promiseList.push(fetchData(d)); // æ­¤å¤„å·²ç»å¼€å§‹æ‰§è¡Œäº†
});

Promise.all(promiseList).then(res => {
  console.log(res) // [1, 2, 3]
})
```

### Promise.finally

ES6ä¸ºæˆ‘ä»¬å¸¦æ¥äº† `Promise`ï¼Œä½†æ˜¯å®ƒçš„ç»“æœè¦ä¹ˆæˆåŠŸ `then` è¦ä¹ˆå¤±è´¥ `catch`ï¼Œä½¿å¾—æˆ‘ä»¬çš„ä¸€äº›é€»è¾‘ï¼Œå¦‚æ‰§è¡ŒçŠ¶æ€ä¿®æ”¹ï¼Œç»“æŸå›è°ƒéƒ½å¾—åœ¨ä¸¤è¾¹å†™ä¸€éã€‚æœ‰äº† `finally()`ï¼Œé€»è¾‘åªå¯ä»¥æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹äº†ã€‚

```js
new Promise((reslove, reject) => {
  // ...
}).then((res) => {
  // reslove
}).catch((err) => {
  // reject
}).finally(() => {
  // complete
});
```

### rest/spread

ES2015 å¼•å…¥äº†ä¸‰ä¸ªç‚¹ï¼ˆ`...`ï¼‰è¿ç®—ç¬¦ï¼Œè¿™ä¸ªè¿ç®—ç¬¦æ—¢èƒ½ç”¨æ¥æ”¶é›†å‡½æ•°çš„å‰©ä½™å‚æ•°ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æ‰©å±•æ•°ç»„ã€‚

ES2018 å¯¹å…¶è¿›è¡Œäº†å¢å¼ºï¼Œå°†æ‰©å±•å’Œæ”¶é›†å‚æ•°çš„èƒ½åŠ›æ‰©å¤§åˆ°äº†å¯¹è±¡ã€‚ä½¿å¾— `...` è¿ç®—ç¬¦ä¹Ÿå¯ä»¥ç”¨æ¥æ”¶é›†å¯¹è±¡çš„â€œå‰©ä½™å±æ€§â€ã€‚

```js
// rest
const obj = {
  a: 1,
  b: 2,
  c: 3
};

const { a, ...x } = obj; // a = 1ï¼Œ x = { b: 2, c: 3 }

// spread
const obj1 = { a: 1, b: 2, c: 3 };
const obj2 = { ...obj1, z: 26 }; // { a: 1, b: 2, c: 3, z: 26 }
```

### Regexp

RegExp åœ¨ ES2018 ä¸­æ–°å¢`dotAll ï¼ˆç‚¹åŒ¹é…ï¼‰`ã€`å‘½ååˆ†ç»„æ•è·`ç­‰ã€‚

```js
// ES2018å¼•å…¥äº†dotAllæ¨¡å¼ï¼Œé€šè¿‡ä½¿ç”¨æ ‡è®°sé€‰é¡¹ï¼Œ.å°±å¯ä»¥åŒ¹é…æ¢è¡Œç¬¦ã€‚
/hello.es9/.test('hello\nes9');  // false
/hello.es9/s.test('hello\nes9');  // true

// å‘½ååˆ†ç»„æ•è·ï¼ŒES2018å…è®¸å‘½åæ•è·ç»„ä½¿ç”¨ç¬¦å·?<name>, å¯ä»¥æŒ‡å®šå°æ‹¬å·ä¸­åŒ¹é…å†…å®¹çš„åç§°æ”¾åœ¨groupsé‡Œ
const reg = /(\d{4})-(\d{2})-(\d{2})/u;
const matched = reg.exec('2018-12-31');
matched[0];  // 2018-12-12
matched[1];  // 2018
matched[2];  // 12
matched[3];  // 31

const reg = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/u;
const matched = reg.exec('2018-12-31');
matched.groups.year;   // 2018
matched.groups.month;  // 12
matched.groups.day;    // 31
```

## ES2019

* Object.fromEntries
* flat ä¸ flatMap
* trimStart ä¸ trimEnd

### Object.fromEntries

é€šå¸¸ç”¨äºå°†æ•°ç»„è½¬åŒ–ä¸ºå¯¹è±¡,é€šå¸¸å¯ä»¥ä½œä¸º `Object.entries()` çš„åæ“ä½œã€‚

```js
const obj = {name: 'å°ç±³', skin: 'white', age: 2}
console.log(Object.entries(obj)); 
// [['name','å°ç±³'],['skin','white'],['age',2]]

const arr = [['name','å°ç±³'],['skin','white'],['age',2]];
console.log(Object.fromEntries(arr));
// {name: 'å°ç±³', skin: 'white', age: 2}
```

### flat ä¸ flatMap

`flat` å¸¸ç”¨äºå°†å¤šç»´æ•°ç»„é™ç»´ä¸ºä¸€ç»´æ•°ç»„ï¼Œå¯ä»¥ä¼ å‚æ•°ï¼Œè¡¨ç¤ºé™ç»´çš„æ·±åº¦ï¼Œé»˜è®¤æ˜¯1

`flatMap` ç›¸å½“äºå…ˆå¯¹æ•°ç»„è¿›è¡Œ`map`æ“ä½œï¼Œç„¶åè¿›è¡Œ`flat`æ“ä½œ

```js
[[1,2],[3,4]].flat(); // [1, 2, 3, 4]
[[1,2],[3,4]].flatMap(i => i.reverse()) // Â [2, 1, 4, 3]
```

### trimStart ä¸ trimEnd

å»é™¤å­—ç¬¦ä¸²ï¼ˆå‰ï¼‰åé¢çš„ç©ºæ ¼

```js
const str = ' Hello,ES2019! ';
console.log(str.trimStart().trimEnd()); // Hello,ES2019!
```

## ES2020

[https://h3manth.com/ES2020/](https://h3manth.com/ES2020/)

* matchAll
* [ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦](/code-style/code-style.html#ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦)
* [å¯é€‰é“¾æ“ä½œç¬¦](/code-style/code-style.html#å¯é€‰é“¾æ“ä½œç¬¦)
* Promise.allSettled
* Dynamic import
* [BigInt](/javascript/number.html)

### matchAll

```js
// match
const str = 'Dr. Smith and Dr. Anderson';
const re = /(Dr\. )\w+/g;
const res = str.match(re);  //["Dr. Smith", "Dr. Anderson"]

// matchAll
const re = /(Dr\. )\w+/g;
const str = 'Dr. Smith and Dr. Anderson';
const matches = str.matchAll(re);

// è¿”å›çš„æ˜¯è¿­ä»£å™¨å¯¹è±¡éœ€è¦ for...of éå†
for (const match of matches) {
  console.log(match);
}

// ["Dr. Smith", "Dr. ", index: 0, input: "Dr. Smith and Dr. Anderson", groups: undefined]
// ["Dr. Anderson", "Dr. ", index: 14, input: "Dr. Smith and Dr. Anderson", groups: undefined]
```

### Promise.allSettled

> Promise.all å…·æœ‰å¹¶å‘æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„èƒ½åŠ›ã€‚ä½†å®ƒçš„æœ€å¤§é—®é¢˜å°±æ˜¯**å¦‚æœå‚æ•°ä¸­çš„ä»»ä½•ä¸€ä¸ªpromiseä¸ºrejectçš„è¯ï¼Œåˆ™æ•´ä¸ªPromise.all è°ƒç”¨ä¼šç«‹å³ç»ˆæ­¢**ï¼Œå¹¶è¿”å›ä¸€ä¸ªrejectçš„æ–°çš„ Promise å¯¹è±¡ã€‚Promise.allSettled çš„å‡ºç°å°±å¯ä»¥è§£å†³è¿™ä¸ªç—›ç‚¹

```js
Promise.allSettled([
  Promise.reject({ code: 500, msg: 'æœåŠ¡å¼‚å¸¸' }),
  Promise.resolve({ code: 200, list: [] }),
  Promise.resolve({ code: 200, list: [] })
]).then(res => {
  console.log(res)
  /*
        0: {status: "rejected", reason: {â€¦}}
        1: {status: "fulfilled", value: {â€¦}}
        2: {status: "fulfilled", value: {â€¦}}
   */
})
```

### Dynamic import

åŠ¨æ€å¯¼å…¥è¡¨è¾¾å¼æ˜¯ ECMAScript çš„ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå®ƒå…è®¸ä½ åœ¨ç¨‹åºçš„ä»»æ„ä½ç½®å¼‚æ­¥åŠ è½½ä¸€ä¸ªæ¨¡å—ã€‚

ç°åœ¨å‰ç«¯æ‰“åŒ…èµ„æºè¶Šæ¥è¶Šå¤§ï¼Œå‰ç«¯åº”ç”¨åˆå§‹åŒ–æ—¶æ ¹æœ¬ä¸éœ€è¦å…¨éƒ¨åŠ è½½è¿™äº›é€»è¾‘èµ„æºï¼Œä¸ºäº†é¦–å±æ¸²æŸ“é€Ÿåº¦æ›´å¿«ï¼Œå¾ˆå¤šæ—¶å€™éƒ½æ˜¯åŠ¨æ€å¯¼å…¥ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰æ¨¡å—ï¼Œæ¯”å¦‚æ‡’åŠ è½½å›¾ç‰‡ç­‰ï¼Œè¿™æ ·å¯ä»¥å¸®åŠ©æ‚¨æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚

å…¶ä¸­æŒ‰éœ€åŠ è½½è¿™äº›é€»è¾‘èµ„æºéƒ½ä¸€èˆ¬ä¼šåœ¨æŸä¸€ä¸ªäº‹ä»¶å›è°ƒä¸­å»æ‰§è¡Œï¼š

```js
el.onclick = () => {
  import('/modules/my-module.js')
    .then(module => {
      // Do something with the module.
    })
    .catch(err => {
      // load error;
    })
}
```

è¿™ç§ä½¿ç”¨æ–¹å¼ä¹Ÿæ”¯æŒ await å…³é”®å­—ã€‚

```js
let module = await import('/modules/my-module.js');
```

## ES2021

[https://h3manth.com/ES2021/](https://h3manth.com/ES2021/)

* é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦
* replaceAll
* Promise.any
* æ•°å€¼åˆ†éš”ç¬¦

### é€»è¾‘èµ‹å€¼è¿ç®—ç¬¦

```js
||=  // a ||= b ç›¸å½“äº a = a || b
&&=  // a &&= b ç›¸å½“äº a = a && b
??=  // a ??= b ç›¸å½“äº a = a ?? b
```

### replaceAll

```js
// ES2021 ä¹‹å‰
'1 2 1 2 1 2'.replace(/2/g, '0'); // '1 0 1 0 1 0'

// ç°åœ¨
'1 2 1 2 1 2'.replaceAll('2', '0'); // '1 0 1 0 1 0'
```

### Promise.any

> - `Promise.all()`ä¸­çš„Promiseåºåˆ—ä¼šå…¨éƒ¨æ‰§è¡Œé€šè¿‡æ‰è®¤ä¸ºæ˜¯æˆåŠŸï¼Œå¦åˆ™è®¤ä¸ºæ˜¯å¤±è´¥ï¼›
> - `Promise.race()`ä¸­çš„Promiseåºåˆ—ä¸­ç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œæ¯•çš„æ˜¯é€šè¿‡ï¼Œåˆ™è®¤ä¸ºæˆåŠŸï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ‰§è¡Œå®Œæ¯•çš„Promiseæ˜¯æ‹’ç»ï¼Œåˆ™è®¤ä¸ºå¤±è´¥ï¼›
> - `Promise.any()`ä¸­çš„Promiseåºåˆ—åªè¦æœ‰ä¸€ä¸ªæ‰§è¡Œé€šè¿‡ï¼Œåˆ™è®¤ä¸ºæˆåŠŸï¼Œå¦‚æœå…¨éƒ¨æ‹’ç»ï¼Œåˆ™è®¤ä¸ºå¤±è´¥ï¼›

`Promise.any()`é€‚åˆç”¨åœ¨é€šè¿‡ä¸åŒè·¯å¾„è¯·æ±‚åŒä¸€ä¸ªèµ„æºçš„éœ€æ±‚ä¸Šã€‚

ä¾‹å¦‚ï¼ŒVue3.0åœ¨unpkgå’Œjsdelivréƒ½æœ‰åœ¨çº¿çš„CDNèµ„æºï¼Œéƒ½æ˜¯å›½å¤–çš„CDNï¼Œå›½å†…ç›´æ¥è°ƒç”¨ä¸ç¡®å®šå“ªä¸ªç«™ç‚¹ä¼šæŠ½é£ï¼ŒåŠ è½½æ…¢ï¼Œè¿™æ—¶å€™å¯ä»¥ä¸¤ä¸ªèµ„æºéƒ½è¯·æ±‚ï¼Œå“ªä¸ªè¯·æ±‚å…ˆæˆåŠŸå°±ä½¿ç”¨å“ªä¸€ä¸ªã€‚

æ¯”æ–¹è¯´unpkgçš„åœ°å€æ˜¯ï¼šhttps://unpkg.com/vue@3.0.11/dist/vue.global.js
jsdelivrçš„åœ°å€æ˜¯ï¼šhttps://cdn.jsdelivr.net/npm/vue@3.0.11/dist/vue.global.js

```js
let startTime = +new Date();
let importUnpkg = import('https://unpkg.com/vue@3.0.11/dist/vue.runtime.esm-browser.js');
let importJsdelivr = import('https://cdn.jsdelivr.net/npm/vue@3.0.11/dist/vue.runtime.esm-browser.js');
Promise.any([importUnpkg, importJsdelivr]).then(vue => {
  console.log('åŠ è½½å®Œæ¯•ï¼Œæ—¶é—´æ˜¯ï¼š' + (+new Date() - startTime) + 'ms');
  console.log(vue.version);
});
```

### æ•°å€¼åˆ†éš”ç¬¦

```js
const a = 785_00;
const b = 1_000_000_000;
console.log(a);                // 78500
console.log(b);                  // 1000000000
console.log(a === 78500);      // true
console.log(b === 1000000000);   // true
```

## ES2022

[https://h3manth.com/ES2022/](https://h3manth.com/ES2022/)

* é¡¶å±‚ await
* at() æ–¹æ³•
* Object.hasOwn()
* class ç§æœ‰å­—æ®µ

### é¡¶å±‚ await

å…è®¸å¼€å‘è€…åœ¨ `async` å‡½æ•°å¤–éƒ¨ä½¿ç”¨ `await` å­—æ®µã€‚å®ƒå°±åƒå·¨å¤§çš„ `async` å‡½æ•°ï¼ŒåŸå› æ˜¯ `import` å®ƒä»¬çš„æ¨¡å—ä¼šç­‰å¾…å®ƒä»¬å¼€å§‹æ‰§è¡Œå®ƒçš„ä»£ç ã€‚

```js
// è¿‡å»
await Promise.resolve(console.log('ğŸ‰'));
// â†’ SyntaxError: await is only valid in async function

(async function () {
  await Promise.resolve(console.log('ğŸ‰'));
  // â†’ ğŸ‰
})();

// ç°åœ¨
await Promise.resolve(console.log('ğŸ‰'));
```

ä»¥ä¸‹ä¾‹å­å°è¯•åŠ è½½ä¸€ä¸ªæ¥è‡ª first.com çš„ JavaScript æ¨¡å—ï¼ŒåŠ è½½å¤±è´¥ä¼šæœ‰å›é€€æ–¹æ¡ˆï¼š

```js
//module.mjs
let module;

try {
  module = await import('https://first.com/libs.com/module1');
} catch {
  module = await import('https://second.com/libs/module1');
}
```

è¿™é‡Œ res å˜é‡çš„åˆå§‹å€¼ç”±æœ€å…ˆç»“æŸçš„ä¸‹è½½è¯·æ±‚å†³å®šã€‚

```js
//module.mjs
const resPromises = [    
    donwloadFromResource1Site,
    donwloadFromResource2Site
];

const res = await Promise.any(resPromises);
```

### at() æ–¹æ³•

åœ¨æ­¤ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨æ–¹æ‹¬å· ([]) æ¥è®¿é—®æ•°ç»„çš„ç¬¬ N ä¸ªå…ƒç´ ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨æ–¹æ‹¬å·è®¿é—®æ•°ç»„æœ«å°¾çš„ç¬¬ N ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ arr.length - N çš„ç´¢å¼•ã€‚at æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

```js
const arr = ['a', 'b', 'c', 'd'];
console.log(arr.at(0)); // a
console.log(arr.at(-1)); // d
console.log(arr.at(-2)); // c
```

### Object.hasOwn()

åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬åˆ¤æ–­å¯¹è±¡è‡ªèº«æ˜¯å¦æ‹¥æœ‰æŸå±æ€§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ `hasOwnProperty`ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚

```js
// å¯¹äºä½¿ç”¨ null åŸå‹åˆ›å»ºçš„å¯¹è±¡å°è¯•å¯¹å…¶è°ƒç”¨æ­¤æ–¹æ³•ä¼šå¯¼è‡´é”™è¯¯ã€‚
const obj = Object.create(null);
obj.color = 'green';
// TypeError: obj.hasOwnProperty is not a function
console.log(obj.hasOwnProperty('color'));

// hasOwnProperty() æ–¹æ³•ä¸å—ä¿æŠ¤, å¯ä»¥è¢«è¦†ç›–
const car = {
 color: 'green',
 hasOwnProperty: function() {
   return false;
 }
}
console.log(car.hasOwnProperty('age')); // false
```

å½“ç„¶ä»¥ä¸Šé—®é¢˜éƒ½å¯ä»¥ä½¿ç”¨ `Object.prototype.hasOwnProperty` æ¥è§£å†³ï¼Œä½†æ˜¯æˆ‘ä»¬ä»¥åå¯ä»¥ç›´æ¥ç”¨ `Object.hasOwn` æ¥æ›¿æ¢ã€‚

å¦‚æœæŒ‡å®šçš„å¯¹è±¡*è‡ªèº«*æœ‰æŒ‡å®šçš„å±æ€§ï¼Œåˆ™é™æ€æ–¹æ³• **`Object.hasOwn()`** è¿”å› `true`ã€‚å¦‚æœå±æ€§æ˜¯ç»§æ‰¿çš„æˆ–è€…ä¸å­˜åœ¨ï¼Œè¯¥æ–¹æ³•è¿”å› `false`ã€‚

```js
const object1 = {
  prop: 'exists'
};

console.log(Object.hasOwn(object1, 'prop'));
// expected output: true

console.log(Object.hasOwn(object1, 'toString'));
// expected output: false
```

### class ç§æœ‰å­—æ®µ

```js
class Foo {
  #iteration = 0;
  
  increment() {
    this.#iteration++;
  }
  
  #auditIncrement() {
    console.log('auditing');
  }

  logIteration() {
    console.log(this.#iteration);
  }
}

const x = new Foo();

x.#iteration // error
x.#auditIncrement() // error
x.increment(); // âœ… works
x.logIteration(); // âœ… works
```

