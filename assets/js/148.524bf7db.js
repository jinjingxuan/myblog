(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{651:function(t,e,s){"use strict";s.r(e);var a=s(14),n=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"react-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-版本"}},[t._v("#")]),t._v(" React 版本")]),t._v(" "),e("ul",[e("li",[t._v("React 16 - Fiber 架构")]),t._v(" "),e("li",[t._v("React 17 - 过渡版本：事件委托、jsx转换器、副作用清理")]),t._v(" "),e("li",[t._v("React 18 - 并发模式：并发渲染、transition api、流式服务端渲染")]),t._v(" "),e("li",[t._v("React 19 - 开发体验革命：Actions api、use、自动记忆化、预加载 api")])]),t._v(" "),e("h2",{attrs:{id:"_1-react-16-2017-fiber-架构革命"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-react-16-2017-fiber-架构革命"}},[t._v("#")]),t._v(" "),e("strong",[t._v("1. React 16（2017）")]),t._v("："),e("strong",[t._v("Fiber 架构革命")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("突破点")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("解决的问题")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("技术实现")])])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("异步渲染")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("大型应用渲染卡顿（主线程阻塞）")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Fiber 节点拆分任务为可中断单元")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("增量渲染")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("长时间任务导致掉帧")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("浏览器空闲时段分片渲染组件")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("错误边界")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("组件崩溃导致整个应用崩溃")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("componentDidCatch()")]),t._v(" 捕获子组件错误")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("Portal 支持")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("渲染到 DOM 树外节点")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("ReactDOM.createPortal()")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("新生命周期")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("废弃不安全生命周期")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("新增 "),e("code",[t._v("getDerivedStateFromProps()")])])])])]),t._v(" "),e("h2",{attrs:{id:"_2-react-17-2020-平稳过渡版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-react-17-2020-平稳过渡版本"}},[t._v("#")]),t._v(" "),e("strong",[t._v("2. React 17（2020）")]),t._v("："),e("strong",[t._v("平稳过渡版本")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("核心改进")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("影响")])])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("事件委托重构")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("事件绑定到根容器而非 "),e("code",[t._v("document")]),t._v("，解决多版本共存冲突")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("渐进升级支持")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("允许应用内混合使用 v17 和旧版本组件")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("JSX 转换器独立")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("编译器自动引入 "),e("code",[t._v("jsx-runtime")]),t._v("，减少 "),e("code",[t._v("import React")]),t._v(" 冗余")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("副作用清理时机")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("useEffect")]),t._v(" 清理函数异步执行，避免阻塞屏幕更新")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("⚠️ "),e("strong",[t._v("无新特性")]),t._v("：专注为 React 18 铺路，被开发者称为“隐形桥梁版本”")])]),t._v(" "),e("h3",{attrs:{id:"jsx-转换器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jsx-转换器"}},[t._v("#")]),t._v(" JSX 转换器")]),t._v(" "),e("p",[t._v("在v16中，我们写一个React组件，总要引入")]),t._v(" "),e("div",{staticClass:"language-jsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-jsx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n")])])]),e("p",[t._v("这是因为在浏览器中无法直接使用 jsx，所以要借助工具如"),e("code",[t._v("@babel/preset-react")]),t._v("将 jsx 语法转换为 "),e("code",[t._v("React.createElement")]),t._v(" 的 js 代码，所以需要显式引入 React，才能正常调用 createElement。")]),t._v(" "),e("p",[t._v("通过"),e("code",[t._v("React.createElement()")]),t._v(" 创建元素是比较频繁的操作，本身也存在一些问题，无法做到性能优化，具体可见官方优化的 "),e("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Freactjs%2Frfcs%2Fblob%2Fcreatelement-rfc%2Ftext%2F0000-create-element-changes.md%23motivation",target:"_blank",rel:"noopener noreferrer"}},[t._v("动机"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("v17之后，React 与 Babel 官方进行合作，直接通过将 "),e("code",[t._v("react/jsx-runtime")]),t._v(" 对 jsx 语法进行了新的转换而不依赖 "),e("code",[t._v("React.createElement")]),t._v("，因此v17使用 jsx 语法可以不引入 React，应用程序依然能正常运行。")]),t._v(" "),e("h3",{attrs:{id:"副作用清理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#副作用清理"}},[t._v("#")]),t._v(" 副作用清理")]),t._v(" "),e("ul",[e("li",[t._v("v17前，组件被卸载时，"),e("code",[t._v("useEffect")]),t._v("的清理函数都是同步运行的；对于大型应用程序来说，同步会减缓屏幕的过渡（如切换标签）")]),t._v(" "),e("li",[t._v("v17后，"),e("code",[t._v("useEffect")]),t._v(" 副作用清理函数是"),e("strong",[t._v("异步执行")]),t._v("的，如果要卸载组件，则清理会在屏幕更新后运行")])]),t._v(" "),e("h2",{attrs:{id:"react-18-2022-并发模式时代"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-18-2022-并发模式时代"}},[t._v("#")]),t._v(" "),e("strong",[t._v("React 18（2022）")]),t._v("："),e("strong",[t._v("并发模式时代")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("特性")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("功能")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("代码示例")])])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("并发渲染（Concurrent）")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("可中断渲染优先响应用户交互")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("<React.StrictMode>")]),t._v(" 中启用")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("自动批处理")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("合并多状态更新减少渲染次数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("异步操作中自动生效")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("Transition API")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("区分紧急/非紧急更新")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("const [isPending, startTransition] = useTransition()")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("Suspense SSR")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("流式服务端渲染 + 选择性 hydrate")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("<Suspense fallback={<Spinner/>}>")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("新 Root API")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("取代 "),e("code",[t._v("ReactDOM.render()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("ReactDOM.createRoot().render(<App />)")])])])])]),t._v(" "),e("h2",{attrs:{id:"并发渲染"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#并发渲染"}},[t._v("#")]),t._v(" 并发渲染")]),t._v(" "),e("p",[t._v("React 中 每次 setState 都会进行 render 渲染流程。有个场景，比如用户在 input 输入内容的时候，会通过 setState 设置到状态里，会触发重新渲染。这时候如果还有一个列表也会根据 input 输入的值来处理显示的数据，也会 setState 修改自己的状态。这两个 setState 会一起发生，那么同步模式下也就会按照顺序依次执行。")]),t._v(" "),e("p",[t._v("但如果这个渲染流程中处理的 fiber 节点比较多，渲染一次就比较慢，这时候用户输入的内容可能就不能及时的渲染出来，用户就会感觉卡，体验不好。怎么解决这个问题呢？")]),t._v(" "),e("p",[t._v("能不能指定这俩 setState 的重要程度不一样，用户输入的 setState 的更新重要程度更高，如果有这种更新就把别的先暂停，执行这次更新，执行完之后再继续处理。")]),t._v(" "),e("div",{staticClass:"language-jsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-jsx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("Search")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("keywords"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setKeywords"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("results"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setResults"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("isPending"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" startTransition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("useTransition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleChange")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 紧急：立即更新输入框")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setKeywords")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 非紧急：延迟处理搜索（可中断）")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("startTransition")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchResults")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("setResults"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),e("span",{pre:!0,attrs:{class:"token script language-javascript"}},[e("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("keywords"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("onChange")]),e("span",{pre:!0,attrs:{class:"token script language-javascript"}},[e("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("handleChange"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),e("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n      ")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("isPending "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Spinner")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Results")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data")]),e("span",{pre:!0,attrs:{class:"token script language-javascript"}},[e("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("results"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n    ")]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"suspense-支持-ssr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#suspense-支持-ssr"}},[t._v("#")]),t._v(" Suspense 支持 SSR")]),t._v(" "),e("p",[t._v("SSR 一次页面渲染的流程：")]),t._v(" "),e("ol",[e("li",[t._v("服务器获取页面所需数据")]),t._v(" "),e("li",[t._v("将组件渲染成 HTML 形式作为响应返回")]),t._v(" "),e("li",[t._v("客户端加载资源")]),t._v(" "),e("li",[t._v("（hydrate）执行 JS，并生成页面最终内容")])]),t._v(" "),e("p",[t._v('上述流程是串行执行的，v18前的 SSR 有一个问题就是它不允许组件"等待数据"，必须收集好所有的数据，才能开始向客户端发送HTML。如果其中有一步比较慢，都会影响整体的渲染速度。')]),t._v(" "),e("p",[t._v("v18 中使用并发渲染特性扩展了"),e("code",[t._v("Suspense")]),t._v("的功能，使其支持流式 SSR，将 React 组件分解成更小的块，允许服务端一点一点返回页面，尽早发送 HTML和选择性的 hydrate， 从而可以使SSR更快的加载页面")]),t._v(" "),e("div",{staticClass:"language-jsx extra-class"},[e("pre",{pre:!0,attrs:{class:"language-jsx"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Suspense")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("fallback")]),e("span",{pre:!0,attrs:{class:"token script language-javascript"}},[e("span",{pre:!0,attrs:{class:"token script-punctuation punctuation"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Spinner")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("  \n  ")]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Comments")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),e("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" \n")]),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Suspense")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),e("h2",{attrs:{id:"react-19-2024-beta-开发体验飞跃"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#react-19-2024-beta-开发体验飞跃"}},[t._v("#")]),t._v(" "),e("strong",[t._v("React 19（2024 Beta）")]),t._v("："),e("strong",[t._v("开发体验飞跃")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("特性")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("解决的问题")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("React 18 对比")])])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("Actions API")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("表单状态管理样板代码")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("手动处理 "),e("code",[t._v("loading/error")]),t._v(" 状态")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("use() Hook")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("直接消费 Promise/Suspense")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("需 "),e("code",[t._v("useEffect")]),t._v(" + 状态管理")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("自动记忆化编译器")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("手动 "),e("code",[t._v("useMemo")]),t._v(" 优化负担")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发者需显式记忆化")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("原生 Document Metadata")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("动态修改 "),e("code",[t._v("<title>")]),t._v(" 需第三方库")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("依赖 "),e("code",[t._v("react-helmet")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("资源预加载 API")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("关键资源加载优化碎片化")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("手动 "),e("code",[t._v("link rel=preload")])])])])]),t._v(" "),e("h2",{attrs:{id:"next-js-14-vs-next-js-15-核心差异"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#next-js-14-vs-next-js-15-核心差异"}},[t._v("#")]),t._v(" Next.js 14 vs Next.js 15 核心差异")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("能力模块")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("Next.js 14")])]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("**Next.js 15 **")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("React 基础")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("React 18.3")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("React 19")]),t._v(" (首个官方集成版本)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("渲染引擎")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Pages Router + App Router 共存")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("App Router 为默认模式")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("数据获取")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("getServerSideProps")]),t._v("/"),e("code",[t._v("getStaticProps")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("Actions + "),e("code",[t._v("use()")]),t._v(" 主导")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("元数据处理")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("generateMetadata")]),t._v(" 函数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("原生 "),e("code",[t._v("<title>")]),t._v(" 组件支持")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("资源优化")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("next/image")]),t._v("/"),e("code",[t._v("next/font")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("整合 React 19 预加载 API")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("中间件")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("middleware.ts")]),t._v(" 基于 Edge Runtime")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("支持 Node.js 运行时")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("打包工具")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Webpack (默认) / Turbopack (可选)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("Turbopack 为默认构建引擎")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("增量静态生成")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("revalidate")]),t._v(" 字段控制")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("动态 ISR：按请求流量触发重建")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("Monorepo 支持")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("需手动配置 Turbo 或 Nx")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("内置 Turborepo 集成")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("部署适配")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Vercel/Netlify/Node 服务器")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("新增 Serverless 函数冷启动优化")])])])])]),t._v(" "),e("h2",{attrs:{id:"next-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#next-js"}},[t._v("#")]),t._v(" Next.js")]),t._v(" "),e("p",[t._v("Next.js 是一个基于 "),e("strong",[t._v("React")]),t._v(" 的"),e("strong",[t._v("全栈前端框架")]),t._v("，核心目标是简化高性能 Web 应用的开发（尤其解决 React 的 SEO 弱、首屏加载慢等问题）。它通过开箱即用的功能（如服务端渲染、路由、打包优化等）大幅提升开发效率。")]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"next-js-核心解决的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#next-js-核心解决的问题"}},[t._v("#")]),t._v(" Next.js 核心解决的问题")]),t._v(" "),e("p",[e("strong",[t._v("传统 React (CSR - Client-Side Rendering) 的问题：")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("过程：")]),t._v(" 浏览器下载一个近乎空的 HTML → 下载庞大的 JS Bundle → JS 执行 → React 渲染页面内容。")]),t._v(" "),e("li",[e("strong",[t._v("致命伤：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("SEO 不友好：")]),t._v(" 搜索引擎爬虫看到的是空 HTML 或加载动画，无法抓取有效内容。")]),t._v(" "),e("li",[e("strong",[t._v("首屏加载慢 (FCP/LCP)：")]),t._v(" 用户需要等待 JS 下载执行完才能看到主要内容，体验差。")]),t._v(" "),e("li",[e("strong",[t._v("低端设备体验差：")]),t._v(" JS 解析和执行在性能弱的设备上耗时更长。")])])])]),t._v(" "),e("p",[e("strong",[t._v("Next.js 的解决方案：")]),t._v(" "),e("strong",[t._v("服务端渲染 (SSR)")]),t._v(" 与 "),e("strong",[t._v("静态站点生成 (SSG)")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("SSR (Server-Side Rendering) - 动态内容实时渲染：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("过程：")]),t._v(" 用户请求 → Next.js 服务器"),e("strong",[t._v("实时执行 React 组件")]),t._v("，获取数据 → 生成"),e("strong",[t._v("包含完整内容的 HTML")]),t._v(" 发送给浏览器 → 浏览器立即展示内容 → React 再“注水”(Hydrate) 接管交互。")]),t._v(" "),e("li",[e("strong",[t._v("优势：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("完美 SEO：")]),t._v(" 爬虫拿到的是包含完整数据的 HTML。")]),t._v(" "),e("li",[e("strong",[t._v("瞬间首屏：")]),t._v(" 用户第一时间看到完整内容，无需等待 JS 执行。")]),t._v(" "),e("li",[e("strong",[t._v("适合：")]),t._v(" 用户仪表盘、实时数据页面、个性化内容页（需要知道用户是谁）。")])])])])]),t._v(" "),e("li",[e("strong",[t._v("SSG (Static Site Generation) - 构建时预渲染：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("过程：")]),t._v(" 在 "),e("code",[t._v("npm run build")]),t._v(" 时，Next.js "),e("strong",[t._v("提前执行 React 组件")]),t._v("，获取数据 → 生成"),e("strong",[t._v("纯静态 HTML/CSS/JS 文件")]),t._v(" → 部署到 CDN。")]),t._v(" "),e("li",[e("strong",[t._v("优势：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("极致性能：")]),t._v(" CDN 直接返回预渲染好的 HTML，速度最快。")]),t._v(" "),e("li",[e("strong",[t._v("超高扩展性：")]),t._v(" CDN 轻松应对高并发，成本低。")]),t._v(" "),e("li",[e("strong",[t._v("安全性高：")]),t._v(" 静态文件无服务器运行时风险。")]),t._v(" "),e("li",[e("strong",[t._v("适合：")]),t._v(" 博客、文档、营销页、电商产品列表/详情页（数据变化不频繁）。")])])])])]),t._v(" "),e("li",[e("strong",[t._v("ISR (Incremental Static Regeneration) - SSG 的智能升级：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("过程：")]),t._v(" 在 SSG 基础上，可以为每个页面设置一个 "),e("code",[t._v("revalidate")]),t._v(" 时间（秒）。首次访问触发构建，之后在设定的时间间隔内，访问仍返回缓存的静态页面；"),e("strong",[t._v("超过时间后的首次访问")]),t._v("，Next.js 在后台"),e("strong",[t._v("异步重新生成")]),t._v("该页面，下次访问得到新页面，同时旧页面仍可被访问（无中断）。")]),t._v(" "),e("li",[e("strong",[t._v("优势：")]),t._v(" 兼具 SSG 的速度与接近 SSR 的"),e("strong",[t._v("数据新鲜度")]),t._v("，无需全站重建。")]),t._v(" "),e("li",[e("strong",[t._v("适合：")]),t._v(" 新闻资讯、商品价格（允许短暂延迟）、用户生成内容（UGC）列表页。")])])])]),t._v(" "),e("p",[e("strong",[t._v("总结：Next.js 让你按需选择渲染方式，从根本上解决 SEO 和首屏性能瓶颈。")])]),t._v(" "),e("h3",{attrs:{id:"_2-解决路由配置繁琐-文件即路由-file-system-based-routing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-解决路由配置繁琐-文件即路由-file-system-based-routing"}},[t._v("#")]),t._v(" "),e("strong",[t._v("2. 解决路由配置繁琐：文件即路由 (File-system based Routing)")])]),t._v(" "),e("p",[e("strong",[t._v("传统 React 的问题：")])]),t._v(" "),e("ul",[e("li",[t._v("需要手动安装 "),e("code",[t._v("react-router-dom")]),t._v(" 库。")]),t._v(" "),e("li",[t._v("需要编写复杂的路由配置文件 ("),e("code",[t._v("<Routes>")]),t._v(", "),e("code",[t._v("<Route>")]),t._v(", "),e("code",[t._v("<Link>")]),t._v(")，定义路径与组件的映射关系。")]),t._v(" "),e("li",[t._v("嵌套路由、动态路由、路由守卫等配置较繁琐。")])]),t._v(" "),e("p",[e("strong",[t._v("Next.js 的解决方案：")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("约定优于配置：")]),t._v(" 在 "),e("code",[t._v("pages")]),t._v(" 目录下的文件结构"),e("strong",[t._v("自动映射")]),t._v("为 URL 路由。\n"),e("ul",[e("li",[e("code",[t._v("pages/index.js")]),t._v(" → "),e("code",[t._v("/")])]),t._v(" "),e("li",[e("code",[t._v("pages/about.js")]),t._v(" → "),e("code",[t._v("/about")])]),t._v(" "),e("li",[e("code",[t._v("pages/blog/index.js")]),t._v(" → "),e("code",[t._v("/blog")])]),t._v(" "),e("li",[e("code",[t._v("pages/blog/[slug].js")]),t._v(" → "),e("code",[t._v("/blog/:slug")]),t._v(" (e.g., "),e("code",[t._v("/blog/nextjs-is-awesome")]),t._v(")")]),t._v(" "),e("li",[e("code",[t._v("pages/user/[id]/profile.js")]),t._v(" → "),e("code",[t._v("/user/:id/profile")]),t._v(" (嵌套动态路由)")])])]),t._v(" "),e("li",[e("strong",[t._v("无需手动配置：")]),t._v(" 创建文件即创建路由，极大简化开发流程。")]),t._v(" "),e("li",[e("strong",[t._v("内置 "),e("code",[t._v("<Link>")]),t._v("：")]),t._v(" 提供高性能的客户端导航（无整页刷新）。")]),t._v(" "),e("li",[e("strong",[t._v("自动代码分割：")]),t._v(" 每个页面自动生成独立的 JS Bundle，按需加载。")])]),t._v(" "),e("p",[e("strong",[t._v("总结：文件即路由是 Next.js 最直观、最高效的特性之一，显著提升开发速度和代码可维护性。")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"_3-解决构建优化复杂-开箱即用的优化工具链"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-解决构建优化复杂-开箱即用的优化工具链"}},[t._v("#")]),t._v(" "),e("strong",[t._v("3. 解决构建优化复杂：开箱即用的优化工具链")])]),t._v(" "),e("p",[e("strong",[t._v("传统 React (CRA) 的问题：")])]),t._v(" "),e("ul",[e("li",[t._v("虽然封装了 Webpack 配置，但深度定制（如修改 Loader、Plugin、分包策略）需要 "),e("code",[t._v("eject")]),t._v("（不可逆）或使用 "),e("code",[t._v("react-app-rewired")]),t._v(" 等第三方工具，门槛高。")]),t._v(" "),e("li",[t._v("性能优化（如代码分割、懒加载、图片优化）需要开发者手动配置或集成额外库。")])]),t._v(" "),e("p",[e("strong",[t._v("Next.js 的解决方案：")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("零配置优化：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("自动代码分割：")]),t._v(" 基于页面和动态 "),e("code",[t._v("import()")]),t._v("。")]),t._v(" "),e("li",[e("strong",[t._v("SWC 编译器：")]),t._v(" 替代 Babel + Terser，编译速度"),e("strong",[t._v("快 17 倍以上")]),t._v("，支持 Rust 插件。")]),t._v(" "),e("li",[e("strong",[t._v("Image 组件 ("),e("code",[t._v("next/image")]),t._v("):")]),t._v(" "),e("strong",[t._v("自动优化图片")]),t._v("（格式转换 - WebP/AVIF、尺寸调整、懒加载），大幅提升 LCP 指标和节省带宽。")]),t._v(" "),e("li",[e("strong",[t._v("Font 组件 ("),e("code",[t._v("next/font")]),t._v("):")]),t._v(" 自动托管和优化字体文件，消除布局偏移 (CLS)，提高隐私性（无 Google Fonts 请求）。")]),t._v(" "),e("li",[e("strong",[t._v("Script 组件 ("),e("code",[t._v("next/script")]),t._v("):")]),t._v(" 优化第三方脚本加载策略（如 "),e("code",[t._v("afterInteractive")]),t._v(", "),e("code",[t._v("lazyOnLoad")]),t._v("）。")])])]),t._v(" "),e("li",[e("strong",[t._v("可扩展配置 ("),e("code",[t._v("next.config.js")]),t._v("):")]),t._v(" 提供简单 API 覆盖默认 Webpack 配置、配置环境变量、反向代理等，无需 "),e("code",[t._v("eject")]),t._v("。")])]),t._v(" "),e("p",[e("strong",[t._v("总结：Next.js 内置了生产环境所需的几乎所有性能优化手段，开发者可以专注于业务逻辑。")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"_4-解决前后端分离的割裂感-api-routes-全栈能力"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-解决前后端分离的割裂感-api-routes-全栈能力"}},[t._v("#")]),t._v(" "),e("strong",[t._v("4. 解决前后端分离的割裂感：API Routes (全栈能力)")])]),t._v(" "),e("p",[e("strong",[t._v("传统 React 的问题：")])]),t._v(" "),e("ul",[e("li",[t._v("前端项目需要单独部署。")]),t._v(" "),e("li",[t._v("需要另外搭建和维护一个后端服务（Node.js/Express, Python/Django, Go 等）来提供 API。")]),t._v(" "),e("li",[t._v("开发环境配置 CORS、代理等解决跨域问题。")]),t._v(" "),e("li",[t._v("增加了项目复杂度和协作成本。")])]),t._v(" "),e("p",[e("strong",[t._v("Next.js 的解决方案：")]),t._v(" "),e("strong",[t._v("API Routes")])]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("概念：")]),t._v(" 在 "),e("code",[t._v("pages/api")]),t._v(" 目录下创建 "),e("code",[t._v(".js")]),t._v("/"),e("code",[t._v(".ts")]),t._v(" 文件，该文件默认导出一个函数（请求处理程序），它就是一个 "),e("strong",[t._v("API 端点")]),t._v("。\n"),e("ul",[e("li",[e("code",[t._v("pages/api/hello.js")]),t._v(" → 对应 "),e("code",[t._v("/api/hello")]),t._v(" 接口。")])])]),t._v(" "),e("li",[e("strong",[t._v("优势：")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("前后端同项目：")]),t._v(" API 和前端页面在同一个 Next.js 项目中编写、构建和部署。")]),t._v(" "),e("li",[e("strong",[t._v("无 CORS 问题：")]),t._v(" 同源请求，前端调用 "),e("code",[t._v("/api/xxx")]),t._v(" 就像调用本地函数一样简单。")]),t._v(" "),e("li",[e("strong",[t._v("使用熟悉的 Node.js 环境：")]),t._v(" 可以直接访问文件系统、数据库（ORM）、环境变量等。")]),t._v(" "),e("li",[e("strong",[t._v("简化部署：")]),t._v(" Vercel/Netlify/Node 服务器等一键部署整个应用（前端 + API）。")])])]),t._v(" "),e("li",[e("strong",[t._v("适合场景：")]),t._v(" 处理表单提交、Webhook 接收器、轻量级数据库 CRUD、身份验证端点、代理第三方 API（隐藏密钥）等。"),e("strong",[t._v("不适合：")]),t._v(" 计算密集型任务、需要长连接（WebSocket）的场景。")])]),t._v(" "),e("p",[e("strong",[t._v("总结：API Routes 让 Next.js 具备了全栈能力，极大简化了需要简单后端逻辑的应用开发。")])]),t._v(" "),e("hr"),t._v(" "),e("h3",{attrs:{id:"核心价值再提炼"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#核心价值再提炼"}},[t._v("#")]),t._v(" "),e("strong",[t._v("核心价值再提炼")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("问题领域")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("传统 React 痛点")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Next.js 核心解决方案")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("带来的核心价值")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("渲染 & 性能")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("SEO 差、首屏慢")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("SSR / SSG / ISR")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("极致性能、SEO 友好")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("开发体验")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("路由配置繁琐")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("文件即路由 ("),e("code",[t._v("pages/")]),t._v(")")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开发高效、结构清晰")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("构建 & 优化")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("配置复杂、优化需手动")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("开箱即用优化 (SWC, Image, Font, Script)")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("高性能、最佳实践内置")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("应用架构")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("前后端分离、部署运维复杂")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("API Routes ("),e("code",[t._v("pages/api/")]),t._v(")")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("全栈一体化、简化部署运维")])])])]),t._v(" "),e("p",[t._v("**一句话理解 Next.js：它是对 React 的“生产环境强化”，通过约定优于配置、开箱即用的服务端渲染/静态生成、一体化路由和 API 方案，让开发者能高效构建高性能、SEO 友好、体验卓越的现代化 Web 应用。")])])}),[],!1,null,null,null);e.default=n.exports}}]);