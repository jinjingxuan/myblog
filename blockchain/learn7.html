<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>北大肖臻老师《区块链技术与应用》公开课学习 7 | Breeze blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.65b23aee.css" as="style"><link rel="preload" href="/myblog/assets/js/app.9f4db6d8.js" as="script"><link rel="preload" href="/myblog/assets/js/2.08803d47.js" as="script"><link rel="preload" href="/myblog/assets/js/1.a370845a.js" as="script"><link rel="preload" href="/myblog/assets/js/25.930d64a8.js" as="script"><link rel="prefetch" href="/myblog/assets/js/10.564253ef.js"><link rel="prefetch" href="/myblog/assets/js/100.c35b9817.js"><link rel="prefetch" href="/myblog/assets/js/101.c6a8c814.js"><link rel="prefetch" href="/myblog/assets/js/102.88236ccf.js"><link rel="prefetch" href="/myblog/assets/js/103.67c936e1.js"><link rel="prefetch" href="/myblog/assets/js/104.8fc3204b.js"><link rel="prefetch" href="/myblog/assets/js/105.58194991.js"><link rel="prefetch" href="/myblog/assets/js/106.40f7a133.js"><link rel="prefetch" href="/myblog/assets/js/107.8e7a3cbd.js"><link rel="prefetch" href="/myblog/assets/js/108.85a56101.js"><link rel="prefetch" href="/myblog/assets/js/109.e8350503.js"><link rel="prefetch" href="/myblog/assets/js/11.141e02ca.js"><link rel="prefetch" href="/myblog/assets/js/110.c44ed8f7.js"><link rel="prefetch" href="/myblog/assets/js/111.1b5062ea.js"><link rel="prefetch" href="/myblog/assets/js/112.61191925.js"><link rel="prefetch" href="/myblog/assets/js/113.0a3dc942.js"><link rel="prefetch" href="/myblog/assets/js/114.bda2b561.js"><link rel="prefetch" href="/myblog/assets/js/115.adace76f.js"><link rel="prefetch" href="/myblog/assets/js/116.8b2a6290.js"><link rel="prefetch" href="/myblog/assets/js/117.c0e5e0cf.js"><link rel="prefetch" href="/myblog/assets/js/118.6b430d21.js"><link rel="prefetch" href="/myblog/assets/js/119.5eaa5de1.js"><link rel="prefetch" href="/myblog/assets/js/12.c43cf55f.js"><link rel="prefetch" href="/myblog/assets/js/120.17910a89.js"><link rel="prefetch" href="/myblog/assets/js/121.fb6ccf62.js"><link rel="prefetch" href="/myblog/assets/js/122.a57b91f6.js"><link rel="prefetch" href="/myblog/assets/js/123.37dd985e.js"><link rel="prefetch" href="/myblog/assets/js/124.0fddbe5d.js"><link rel="prefetch" href="/myblog/assets/js/125.65d7027f.js"><link rel="prefetch" href="/myblog/assets/js/126.c5a821cb.js"><link rel="prefetch" href="/myblog/assets/js/127.3b3ef1fc.js"><link rel="prefetch" href="/myblog/assets/js/128.d78bc2aa.js"><link rel="prefetch" href="/myblog/assets/js/129.51a1a88e.js"><link rel="prefetch" href="/myblog/assets/js/13.1dee1651.js"><link rel="prefetch" href="/myblog/assets/js/130.729b0572.js"><link rel="prefetch" href="/myblog/assets/js/131.ac6f9726.js"><link rel="prefetch" href="/myblog/assets/js/132.b13e1261.js"><link rel="prefetch" href="/myblog/assets/js/133.4759f2f2.js"><link rel="prefetch" href="/myblog/assets/js/134.4ca33894.js"><link rel="prefetch" href="/myblog/assets/js/135.eee995e6.js"><link rel="prefetch" href="/myblog/assets/js/136.0dec144e.js"><link rel="prefetch" href="/myblog/assets/js/137.4f794e1a.js"><link rel="prefetch" href="/myblog/assets/js/138.287f26dc.js"><link rel="prefetch" href="/myblog/assets/js/139.9f0c6e77.js"><link rel="prefetch" href="/myblog/assets/js/14.2970adac.js"><link rel="prefetch" href="/myblog/assets/js/140.1c5bf392.js"><link rel="prefetch" href="/myblog/assets/js/141.18013a51.js"><link rel="prefetch" href="/myblog/assets/js/142.ad961356.js"><link rel="prefetch" href="/myblog/assets/js/143.e6d314ef.js"><link rel="prefetch" href="/myblog/assets/js/144.2c0d38d4.js"><link rel="prefetch" href="/myblog/assets/js/145.ef4a83a0.js"><link rel="prefetch" href="/myblog/assets/js/146.629f8b70.js"><link rel="prefetch" href="/myblog/assets/js/147.b46d65fb.js"><link rel="prefetch" href="/myblog/assets/js/148.524bf7db.js"><link rel="prefetch" href="/myblog/assets/js/149.164af466.js"><link rel="prefetch" href="/myblog/assets/js/15.47e79098.js"><link rel="prefetch" href="/myblog/assets/js/150.cc678031.js"><link rel="prefetch" href="/myblog/assets/js/151.eb336eb5.js"><link rel="prefetch" href="/myblog/assets/js/152.f0bed21e.js"><link rel="prefetch" href="/myblog/assets/js/153.37c5472f.js"><link rel="prefetch" href="/myblog/assets/js/154.028e1db1.js"><link rel="prefetch" href="/myblog/assets/js/155.d5fd774f.js"><link rel="prefetch" href="/myblog/assets/js/156.d1d9a355.js"><link rel="prefetch" href="/myblog/assets/js/157.f9f4ede3.js"><link rel="prefetch" href="/myblog/assets/js/158.2a231f1b.js"><link rel="prefetch" href="/myblog/assets/js/159.0d569bfc.js"><link rel="prefetch" href="/myblog/assets/js/16.7f32b066.js"><link rel="prefetch" href="/myblog/assets/js/160.89d06450.js"><link rel="prefetch" href="/myblog/assets/js/161.1918e7a6.js"><link rel="prefetch" href="/myblog/assets/js/162.d272494d.js"><link rel="prefetch" href="/myblog/assets/js/163.4fe631fe.js"><link rel="prefetch" href="/myblog/assets/js/164.40a5d0a3.js"><link rel="prefetch" href="/myblog/assets/js/165.1a34a9e4.js"><link rel="prefetch" href="/myblog/assets/js/166.7c784998.js"><link rel="prefetch" href="/myblog/assets/js/167.8a3d563d.js"><link rel="prefetch" href="/myblog/assets/js/168.94bc381d.js"><link rel="prefetch" href="/myblog/assets/js/169.b9cc0fe2.js"><link rel="prefetch" href="/myblog/assets/js/17.39279ba9.js"><link rel="prefetch" href="/myblog/assets/js/170.b2cd295c.js"><link rel="prefetch" href="/myblog/assets/js/171.d59f35fa.js"><link rel="prefetch" href="/myblog/assets/js/172.5db5ca48.js"><link rel="prefetch" href="/myblog/assets/js/173.df8bb8d9.js"><link rel="prefetch" href="/myblog/assets/js/174.67bfb9a4.js"><link rel="prefetch" href="/myblog/assets/js/175.20444ba4.js"><link rel="prefetch" href="/myblog/assets/js/176.218dea39.js"><link rel="prefetch" href="/myblog/assets/js/177.1c8a3d47.js"><link rel="prefetch" href="/myblog/assets/js/178.4aa5e430.js"><link rel="prefetch" href="/myblog/assets/js/179.0d2c3f09.js"><link rel="prefetch" href="/myblog/assets/js/18.5420b8ce.js"><link rel="prefetch" href="/myblog/assets/js/180.cb18eea2.js"><link rel="prefetch" href="/myblog/assets/js/181.da6e1f74.js"><link rel="prefetch" href="/myblog/assets/js/182.140f2683.js"><link rel="prefetch" href="/myblog/assets/js/183.ed45cd62.js"><link rel="prefetch" href="/myblog/assets/js/184.2c972959.js"><link rel="prefetch" href="/myblog/assets/js/185.6f4edb76.js"><link rel="prefetch" href="/myblog/assets/js/186.0907fa31.js"><link rel="prefetch" href="/myblog/assets/js/19.c0bf9dd5.js"><link rel="prefetch" href="/myblog/assets/js/20.cdc096d5.js"><link rel="prefetch" href="/myblog/assets/js/21.c15da32c.js"><link rel="prefetch" href="/myblog/assets/js/22.2bbe2c16.js"><link rel="prefetch" href="/myblog/assets/js/23.eeb36d86.js"><link rel="prefetch" href="/myblog/assets/js/24.41feb9df.js"><link rel="prefetch" href="/myblog/assets/js/26.5307a77c.js"><link rel="prefetch" href="/myblog/assets/js/27.4a948b1f.js"><link rel="prefetch" href="/myblog/assets/js/28.bbc3bf81.js"><link rel="prefetch" href="/myblog/assets/js/29.b7a67a8a.js"><link rel="prefetch" href="/myblog/assets/js/3.dcb80023.js"><link rel="prefetch" href="/myblog/assets/js/30.330bc25e.js"><link rel="prefetch" href="/myblog/assets/js/31.25f35abb.js"><link rel="prefetch" href="/myblog/assets/js/32.a7c33843.js"><link rel="prefetch" href="/myblog/assets/js/33.d13de414.js"><link rel="prefetch" href="/myblog/assets/js/34.126d6be8.js"><link rel="prefetch" href="/myblog/assets/js/35.e963fb93.js"><link rel="prefetch" href="/myblog/assets/js/36.7cb8c866.js"><link rel="prefetch" href="/myblog/assets/js/37.b3474fca.js"><link rel="prefetch" href="/myblog/assets/js/38.eecfa05c.js"><link rel="prefetch" href="/myblog/assets/js/39.6a80f40a.js"><link rel="prefetch" href="/myblog/assets/js/4.90bd5023.js"><link rel="prefetch" href="/myblog/assets/js/40.b0beb471.js"><link rel="prefetch" href="/myblog/assets/js/41.530597a8.js"><link rel="prefetch" href="/myblog/assets/js/42.785f9606.js"><link rel="prefetch" href="/myblog/assets/js/43.e9c9f9f4.js"><link rel="prefetch" href="/myblog/assets/js/44.be01cfaa.js"><link rel="prefetch" href="/myblog/assets/js/45.a18f09d2.js"><link rel="prefetch" href="/myblog/assets/js/46.7458026c.js"><link rel="prefetch" href="/myblog/assets/js/47.95b924b1.js"><link rel="prefetch" href="/myblog/assets/js/48.0f18d045.js"><link rel="prefetch" href="/myblog/assets/js/49.c6955b79.js"><link rel="prefetch" href="/myblog/assets/js/5.aac70c1c.js"><link rel="prefetch" href="/myblog/assets/js/50.3353848b.js"><link rel="prefetch" href="/myblog/assets/js/51.afa43e50.js"><link rel="prefetch" href="/myblog/assets/js/52.7d2ab80d.js"><link rel="prefetch" href="/myblog/assets/js/53.4374eb9c.js"><link rel="prefetch" href="/myblog/assets/js/54.600b5fc3.js"><link rel="prefetch" href="/myblog/assets/js/55.8d7c9286.js"><link rel="prefetch" href="/myblog/assets/js/56.a2b7aaec.js"><link rel="prefetch" href="/myblog/assets/js/57.762096ae.js"><link rel="prefetch" href="/myblog/assets/js/58.617a72f5.js"><link rel="prefetch" href="/myblog/assets/js/59.945d9369.js"><link rel="prefetch" href="/myblog/assets/js/6.cb4a535e.js"><link rel="prefetch" href="/myblog/assets/js/60.c72295ad.js"><link rel="prefetch" href="/myblog/assets/js/61.973e7b17.js"><link rel="prefetch" href="/myblog/assets/js/62.319a300f.js"><link rel="prefetch" href="/myblog/assets/js/63.f08654c5.js"><link rel="prefetch" href="/myblog/assets/js/64.68d2cc61.js"><link rel="prefetch" href="/myblog/assets/js/65.b1b2a254.js"><link rel="prefetch" href="/myblog/assets/js/66.531fba3e.js"><link rel="prefetch" href="/myblog/assets/js/67.c3f68f3a.js"><link rel="prefetch" href="/myblog/assets/js/68.ffd2b4d9.js"><link rel="prefetch" href="/myblog/assets/js/69.12142fca.js"><link rel="prefetch" href="/myblog/assets/js/7.16f464c2.js"><link rel="prefetch" href="/myblog/assets/js/70.375b5e76.js"><link rel="prefetch" href="/myblog/assets/js/71.dd79fc2d.js"><link rel="prefetch" href="/myblog/assets/js/72.d6376070.js"><link rel="prefetch" href="/myblog/assets/js/73.d40bfbcf.js"><link rel="prefetch" href="/myblog/assets/js/74.ae8198d7.js"><link rel="prefetch" href="/myblog/assets/js/75.6c535169.js"><link rel="prefetch" href="/myblog/assets/js/76.4342f65a.js"><link rel="prefetch" href="/myblog/assets/js/77.d384c6ce.js"><link rel="prefetch" href="/myblog/assets/js/78.456c5622.js"><link rel="prefetch" href="/myblog/assets/js/79.f351ce94.js"><link rel="prefetch" href="/myblog/assets/js/80.d8f1fdfc.js"><link rel="prefetch" href="/myblog/assets/js/81.189da1dd.js"><link rel="prefetch" href="/myblog/assets/js/82.288dce1a.js"><link rel="prefetch" href="/myblog/assets/js/83.2b313f1f.js"><link rel="prefetch" href="/myblog/assets/js/84.c0f2d51f.js"><link rel="prefetch" href="/myblog/assets/js/85.f4395185.js"><link rel="prefetch" href="/myblog/assets/js/86.51058c54.js"><link rel="prefetch" href="/myblog/assets/js/87.de8e8b37.js"><link rel="prefetch" href="/myblog/assets/js/88.18284846.js"><link rel="prefetch" href="/myblog/assets/js/89.9e892ed0.js"><link rel="prefetch" href="/myblog/assets/js/90.98585e36.js"><link rel="prefetch" href="/myblog/assets/js/91.0e7d737f.js"><link rel="prefetch" href="/myblog/assets/js/92.ef614598.js"><link rel="prefetch" href="/myblog/assets/js/93.c06259bc.js"><link rel="prefetch" href="/myblog/assets/js/94.414ae13c.js"><link rel="prefetch" href="/myblog/assets/js/95.25b3964d.js"><link rel="prefetch" href="/myblog/assets/js/96.472fa650.js"><link rel="prefetch" href="/myblog/assets/js/97.6b5c5419.js"><link rel="prefetch" href="/myblog/assets/js/98.c5925425.js"><link rel="prefetch" href="/myblog/assets/js/99.b4635e29.js"><link rel="prefetch" href="/myblog/assets/js/vendors~docsearch.9ef1a0ca.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.65b23aee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myblog/" class="home-link router-link-active"><!----> <span class="site-name">Breeze blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品与数据" class="dropdown-title"><span class="title">产品与数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="产品与数据" class="mobile-dropdown-title"><span class="title">产品与数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/product/abtest.html" class="nav-link">
  AB test
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="区块链" class="dropdown-title"><span class="title">区块链</span> <span class="arrow down"></span></button> <button type="button" aria-label="区块链" class="mobile-dropdown-title"><span class="title">区块链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/blockchain/learn1.html" class="nav-link">
  北大公开课学习
</a></li><li class="dropdown-item"><!----> <a href="/myblog/blockchain/base.html" class="nav-link">
  常见概念
</a></li><li class="dropdown-item"><!----> <a href="/myblog/blockchain/js.html" class="nav-link">
  web3.js和Ethers.js
</a></li><li class="dropdown-item"><!----> <a href="/myblog/blockchain/ethersjs.html" class="nav-link">
  Ethers.js
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="node" class="dropdown-title"><span class="title">node</span> <span class="arrow down"></span></button> <button type="button" aria-label="node" class="mobile-dropdown-title"><span class="title">node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/node/node-1.html" class="nav-link">
  Node基础
</a></li><li class="dropdown-item"><!----> <a href="/myblog/node/book.html" class="nav-link">
  《深入浅出NodeJs》
</a></li><li class="dropdown-item"><!----> <a href="/myblog/node/express.html" class="nav-link">
  express
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/algorithm/array.html" class="nav-link">
  数组
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/dfs-bfs.html" class="nav-link">
  dfs/bfs
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/dynamic.html" class="nav-link">
  动态规划
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/greedy.html" class="nav-link">
  贪心算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/list.html" class="nav-link">
  链表
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/sort.html" class="nav-link">
  排序
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/stack.html" class="nav-link">
  栈
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/string.html" class="nav-link">
  字符串
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/trace.html" class="nav-link">
  回溯
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/tree.html" class="nav-link">
  树
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/two-pointer.html" class="nav-link">
  双指针
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/scene.html" class="nav-link">
  场景题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="css" class="dropdown-title"><span class="title">css</span> <span class="arrow down"></span></button> <button type="button" aria-label="css" class="mobile-dropdown-title"><span class="title">css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/css/bfc.html" class="nav-link">
  BFC
</a></li><li class="dropdown-item"><!----> <a href="/myblog/css/box.html" class="nav-link">
  盒子模型
</a></li><li class="dropdown-item"><!----> <a href="/myblog/css/flex.html" class="nav-link">
  flex
</a></li><li class="dropdown-item"><!----> <a href="/myblog/css/problem.html" class="nav-link">
  problem
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JavaScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/javascript/clone.html" class="nav-link">
  浅/深拷贝
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/closure.html" class="nav-link">
  闭包
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/datatype.html" class="nav-link">
  数据类型
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/ES6.html" class="nav-link">
  ES6
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/prototype.html" class="nav-link">
  原型与原型链
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/scope.html" class="nav-link">
  作用域
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/this.html" class="nav-link">
  this
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/function.html" class="nav-link">
  函数式编程
</a></li></ul></li><li class="dropdown-item"><h4>
          TypeScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/ts/ts-base.html" class="nav-link">
  基础
</a></li><li class="dropdown-subitem"><a href="/myblog/ts/ts-advance.html" class="nav-link">
  进阶
</a></li><li class="dropdown-subitem"><a href="/myblog/ts/book.html" class="nav-link">
  《深入理解TypeScript》
</a></li><li class="dropdown-subitem"><a href="/myblog/ts/decorator.html" class="nav-link">
  TypeScript中的装饰器
</a></li></ul></li><li class="dropdown-item"><h4>
          Threejs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/three/three1.html" class="nav-link">
  three基础
</a></li><li class="dropdown-subitem"><a href="/myblog/three/three2.html" class="nav-link">
  乒乓球游戏
</a></li><li class="dropdown-subitem"><a href="/myblog/three/three3.html" class="nav-link">
  react three
</a></li><li class="dropdown-subitem"><a href="/myblog/three/three4.html" class="nav-link">
  一些实践
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端框架" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/vue/code-1.html" class="nav-link">
  源码解析
</a></li><li class="dropdown-subitem"><a href="/myblog/vue/responsive.html" class="nav-link">
  响应式原理
</a></li><li class="dropdown-subitem"><a href="/myblog/vue/vue3.0-1.html" class="nav-link">
  vue3
</a></li><li class="dropdown-subitem"><a href="/myblog/vue/vuex.html" class="nav-link">
  vuex
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/react/react-1.html" class="nav-link">
  react基础
</a></li><li class="dropdown-subitem"><a href="/myblog/react/react-hooks.html" class="nav-link">
  react hooks
</a></li><li class="dropdown-subitem"><a href="/myblog/react/redux.html" class="nav-link">
  redux
</a></li><li class="dropdown-subitem"><a href="/myblog/react/fiber.html" class="nav-link">
  React Fiber
</a></li><li class="dropdown-subitem"><a href="/myblog/react/time.html" class="nav-link">
  React 版本
</a></li><li class="dropdown-subitem"><a href="/myblog/react/diff.html" class="nav-link">
  React Diff
</a></li></ul></li><li class="dropdown-item"><h4>
          San
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/san/eslint-plugin-san.html" class="nav-link">
  eslint-plugin-san
</a></li><li class="dropdown-subitem"><a href="/myblog/san/san-loader.html" class="nav-link">
  san-loader
</a></li></ul></li><li class="dropdown-item"><h4>
          微前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/micro/micro.html" class="nav-link">
  微前端
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Webpack" class="dropdown-title"><span class="title">Webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="Webpack" class="mobile-dropdown-title"><span class="title">Webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/webpack1.html" class="nav-link">
  webpack基础
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/hmr.html" class="nav-link">
  hmr原理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/module/webpack.html" class="nav-link">
  webpack模块化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/engineering/engineering.html" class="nav-link">
  yeoman
</a></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/eslint.html" class="nav-link">
  eslint
</a></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/grunt.html" class="nav-link">
  grunt
</a></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/gulp.html" class="nav-link">
  gulp
</a></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/rollup.html" class="nav-link">
  rollup
</a></li><li class="dropdown-item"><h4>
          cli工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/engineering/env.html" class="nav-link">
  环境变量
</a></li><li class="dropdown-subitem"><a href="/myblog/engineering/commander.html" class="nav-link">
  命令行交互工具
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/test.html" class="nav-link">
  单元测试
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试题" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/interview/interview.html" class="nav-link">
  面试题整理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/interview/algorithm.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/interview/code-1.html" class="nav-link">
  手写代码
</a></li><li class="dropdown-item"><!----> <a href="/myblog/interview/interview-1.html" class="nav-link">
  面试题精选
</a></li><li class="dropdown-item"><!----> <a href="/myblog/interview/iq.html" class="nav-link">
  智力题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端系列" class="dropdown-title"><span class="title">后端系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端系列" class="mobile-dropdown-title"><span class="title">后端系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/re/development.html" class="nav-link">
  开发机相关
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/mongodb.html" class="nav-link">
  mongodb
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/devops.html" class="nav-link">
  devops
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/nginx.html" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/shell.html" class="nav-link">
  shell
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/docker.html" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端系列" class="dropdown-title"><span class="title">前端系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端系列" class="mobile-dropdown-title"><span class="title">前端系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/git/git.html" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/myblog/ssr/ssr.html" class="nav-link">
  ssr
</a></li><li class="dropdown-item"><!----> <a href="/myblog/computer/computer.html" class="nav-link">
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/myblog/regular/regular.html" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/myblog/route/route.html" class="nav-link">
  前端路由
</a></li><li class="dropdown-item"><!----> <a href="/myblog/safe/safe.html" class="nav-link">
  前端安全
</a></li><li class="dropdown-item"><!----> <a href="/myblog/module/module.html" class="nav-link">
  模块化
</a></li><li class="dropdown-item"><!----> <a href="/myblog/code-style/code-style.html" class="nav-link">
  代码规范
</a></li><li class="dropdown-item"><!----> <a href="/myblog/tool/tool.html" class="nav-link">
  常用工具
</a></li><li class="dropdown-item"><h4>
          浏览器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/chrome/gc.html" class="nav-link">
  GC算法
</a></li><li class="dropdown-subitem"><a href="/myblog/chrome/render.html" class="nav-link">
  浏览器渲染
</a></li><li class="dropdown-subitem"><a href="/myblog/chrome/cross.html" class="nav-link">
  跨域
</a></li><li class="dropdown-subitem"><a href="/myblog/chrome/performance.html" class="nav-link">
  Chrome性能分析
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/mobile/cross.html" class="nav-link">
  跨端技术
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/adaptation.html" class="nav-link">
  移动端适配
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/h5.html" class="nav-link">
  移动端h5开发
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/long-list.html" class="nav-link">
  长列表优化
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/galacean.html" class="nav-link">
  galacean
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/gc-3d.html" class="nav-link">
  galacean 3d
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/design-pattern/design-pattern.html" class="nav-link">
  设计模式简介
</a></li><li class="dropdown-subitem"><a href="/myblog/design-pattern/object.html" class="nav-link">
  面向对象编程
</a></li></ul></li><li class="dropdown-item"><h4>
          虚拟DOM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/virtual-dom/virtualdom.html" class="nav-link">
  Virtual DOM
</a></li><li class="dropdown-subitem"><a href="/myblog/virtual-dom/example.html" class="nav-link">
  实例
</a></li></ul></li><li class="dropdown-item"><h4>
          渲染相关
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/webgl/canvas.html" class="nav-link">
  canvas 和 svg
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具系列" class="dropdown-title"><span class="title">工具系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具系列" class="mobile-dropdown-title"><span class="title">工具系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/tool/tool.html" class="nav-link">
  常用工具和插件
</a></li><li class="dropdown-item"><!----> <a href="/myblog/tool/npm.html" class="nav-link">
  依赖管理工具
</a></li><li class="dropdown-item"><!----> <a href="/myblog/tool/camera.html" class="nav-link">
  相机基础
</a></li><li class="dropdown-item"><!----> <a href="/myblog/tool/performance.html" class="nav-link">
  performance
</a></li><li class="dropdown-item"><h4>
          第三方包
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/tool/postcss.html" class="nav-link">
  postcss
</a></li><li class="dropdown-subitem"><a href="/myblog/tool/babel.html" class="nav-link">
  babel
</a></li><li class="dropdown-subitem"><a href="/myblog/tool/htmlparser2.html" class="nav-link">
  htmlparser2
</a></li><li class="dropdown-subitem"><a href="/myblog/tool/yaml.html" class="nav-link">
  yaml
</a></li></ul></li></ul></div></div> <a href="https://github.com/jinjingxuan" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myblog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="产品与数据" class="dropdown-title"><span class="title">产品与数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="产品与数据" class="mobile-dropdown-title"><span class="title">产品与数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/product/abtest.html" class="nav-link">
  AB test
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="区块链" class="dropdown-title"><span class="title">区块链</span> <span class="arrow down"></span></button> <button type="button" aria-label="区块链" class="mobile-dropdown-title"><span class="title">区块链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/blockchain/learn1.html" class="nav-link">
  北大公开课学习
</a></li><li class="dropdown-item"><!----> <a href="/myblog/blockchain/base.html" class="nav-link">
  常见概念
</a></li><li class="dropdown-item"><!----> <a href="/myblog/blockchain/js.html" class="nav-link">
  web3.js和Ethers.js
</a></li><li class="dropdown-item"><!----> <a href="/myblog/blockchain/ethersjs.html" class="nav-link">
  Ethers.js
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="node" class="dropdown-title"><span class="title">node</span> <span class="arrow down"></span></button> <button type="button" aria-label="node" class="mobile-dropdown-title"><span class="title">node</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/node/node-1.html" class="nav-link">
  Node基础
</a></li><li class="dropdown-item"><!----> <a href="/myblog/node/book.html" class="nav-link">
  《深入浅出NodeJs》
</a></li><li class="dropdown-item"><!----> <a href="/myblog/node/express.html" class="nav-link">
  express
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><span class="title">算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="算法" class="mobile-dropdown-title"><span class="title">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/algorithm/array.html" class="nav-link">
  数组
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/dfs-bfs.html" class="nav-link">
  dfs/bfs
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/dynamic.html" class="nav-link">
  动态规划
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/greedy.html" class="nav-link">
  贪心算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/list.html" class="nav-link">
  链表
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/sort.html" class="nav-link">
  排序
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/stack.html" class="nav-link">
  栈
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/string.html" class="nav-link">
  字符串
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/trace.html" class="nav-link">
  回溯
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/tree.html" class="nav-link">
  树
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/two-pointer.html" class="nav-link">
  双指针
</a></li><li class="dropdown-item"><!----> <a href="/myblog/algorithm/scene.html" class="nav-link">
  场景题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="css" class="dropdown-title"><span class="title">css</span> <span class="arrow down"></span></button> <button type="button" aria-label="css" class="mobile-dropdown-title"><span class="title">css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/css/bfc.html" class="nav-link">
  BFC
</a></li><li class="dropdown-item"><!----> <a href="/myblog/css/box.html" class="nav-link">
  盒子模型
</a></li><li class="dropdown-item"><!----> <a href="/myblog/css/flex.html" class="nav-link">
  flex
</a></li><li class="dropdown-item"><!----> <a href="/myblog/css/problem.html" class="nav-link">
  problem
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JavaScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/javascript/clone.html" class="nav-link">
  浅/深拷贝
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/closure.html" class="nav-link">
  闭包
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/datatype.html" class="nav-link">
  数据类型
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/ES6.html" class="nav-link">
  ES6
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/prototype.html" class="nav-link">
  原型与原型链
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/scope.html" class="nav-link">
  作用域
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/this.html" class="nav-link">
  this
</a></li><li class="dropdown-subitem"><a href="/myblog/javascript/function.html" class="nav-link">
  函数式编程
</a></li></ul></li><li class="dropdown-item"><h4>
          TypeScript
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/ts/ts-base.html" class="nav-link">
  基础
</a></li><li class="dropdown-subitem"><a href="/myblog/ts/ts-advance.html" class="nav-link">
  进阶
</a></li><li class="dropdown-subitem"><a href="/myblog/ts/book.html" class="nav-link">
  《深入理解TypeScript》
</a></li><li class="dropdown-subitem"><a href="/myblog/ts/decorator.html" class="nav-link">
  TypeScript中的装饰器
</a></li></ul></li><li class="dropdown-item"><h4>
          Threejs
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/three/three1.html" class="nav-link">
  three基础
</a></li><li class="dropdown-subitem"><a href="/myblog/three/three2.html" class="nav-link">
  乒乓球游戏
</a></li><li class="dropdown-subitem"><a href="/myblog/three/three3.html" class="nav-link">
  react three
</a></li><li class="dropdown-subitem"><a href="/myblog/three/three4.html" class="nav-link">
  一些实践
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端框架" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/vue/code-1.html" class="nav-link">
  源码解析
</a></li><li class="dropdown-subitem"><a href="/myblog/vue/responsive.html" class="nav-link">
  响应式原理
</a></li><li class="dropdown-subitem"><a href="/myblog/vue/vue3.0-1.html" class="nav-link">
  vue3
</a></li><li class="dropdown-subitem"><a href="/myblog/vue/vuex.html" class="nav-link">
  vuex
</a></li></ul></li><li class="dropdown-item"><h4>
          React
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/react/react-1.html" class="nav-link">
  react基础
</a></li><li class="dropdown-subitem"><a href="/myblog/react/react-hooks.html" class="nav-link">
  react hooks
</a></li><li class="dropdown-subitem"><a href="/myblog/react/redux.html" class="nav-link">
  redux
</a></li><li class="dropdown-subitem"><a href="/myblog/react/fiber.html" class="nav-link">
  React Fiber
</a></li><li class="dropdown-subitem"><a href="/myblog/react/time.html" class="nav-link">
  React 版本
</a></li><li class="dropdown-subitem"><a href="/myblog/react/diff.html" class="nav-link">
  React Diff
</a></li></ul></li><li class="dropdown-item"><h4>
          San
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/san/eslint-plugin-san.html" class="nav-link">
  eslint-plugin-san
</a></li><li class="dropdown-subitem"><a href="/myblog/san/san-loader.html" class="nav-link">
  san-loader
</a></li></ul></li><li class="dropdown-item"><h4>
          微前端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/micro/micro.html" class="nav-link">
  微前端
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Webpack" class="dropdown-title"><span class="title">Webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="Webpack" class="mobile-dropdown-title"><span class="title">Webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/webpack/webpack1.html" class="nav-link">
  webpack基础
</a></li><li class="dropdown-item"><!----> <a href="/myblog/webpack/hmr.html" class="nav-link">
  hmr原理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/module/webpack.html" class="nav-link">
  webpack模块化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/engineering/engineering.html" class="nav-link">
  yeoman
</a></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/eslint.html" class="nav-link">
  eslint
</a></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/grunt.html" class="nav-link">
  grunt
</a></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/gulp.html" class="nav-link">
  gulp
</a></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/rollup.html" class="nav-link">
  rollup
</a></li><li class="dropdown-item"><h4>
          cli工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/engineering/env.html" class="nav-link">
  环境变量
</a></li><li class="dropdown-subitem"><a href="/myblog/engineering/commander.html" class="nav-link">
  命令行交互工具
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/myblog/engineering/test.html" class="nav-link">
  单元测试
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试题" class="dropdown-title"><span class="title">面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试题" class="mobile-dropdown-title"><span class="title">面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/interview/interview.html" class="nav-link">
  面试题整理
</a></li><li class="dropdown-item"><!----> <a href="/myblog/interview/algorithm.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/myblog/interview/code-1.html" class="nav-link">
  手写代码
</a></li><li class="dropdown-item"><!----> <a href="/myblog/interview/interview-1.html" class="nav-link">
  面试题精选
</a></li><li class="dropdown-item"><!----> <a href="/myblog/interview/iq.html" class="nav-link">
  智力题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端系列" class="dropdown-title"><span class="title">后端系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端系列" class="mobile-dropdown-title"><span class="title">后端系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/re/development.html" class="nav-link">
  开发机相关
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/mongodb.html" class="nav-link">
  mongodb
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/devops.html" class="nav-link">
  devops
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/nginx.html" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/shell.html" class="nav-link">
  shell
</a></li><li class="dropdown-item"><!----> <a href="/myblog/re/docker.html" class="nav-link">
  docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端系列" class="dropdown-title"><span class="title">前端系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端系列" class="mobile-dropdown-title"><span class="title">前端系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/git/git.html" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/myblog/ssr/ssr.html" class="nav-link">
  ssr
</a></li><li class="dropdown-item"><!----> <a href="/myblog/computer/computer.html" class="nav-link">
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/myblog/regular/regular.html" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/myblog/route/route.html" class="nav-link">
  前端路由
</a></li><li class="dropdown-item"><!----> <a href="/myblog/safe/safe.html" class="nav-link">
  前端安全
</a></li><li class="dropdown-item"><!----> <a href="/myblog/module/module.html" class="nav-link">
  模块化
</a></li><li class="dropdown-item"><!----> <a href="/myblog/code-style/code-style.html" class="nav-link">
  代码规范
</a></li><li class="dropdown-item"><!----> <a href="/myblog/tool/tool.html" class="nav-link">
  常用工具
</a></li><li class="dropdown-item"><h4>
          浏览器
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/chrome/gc.html" class="nav-link">
  GC算法
</a></li><li class="dropdown-subitem"><a href="/myblog/chrome/render.html" class="nav-link">
  浏览器渲染
</a></li><li class="dropdown-subitem"><a href="/myblog/chrome/cross.html" class="nav-link">
  跨域
</a></li><li class="dropdown-subitem"><a href="/myblog/chrome/performance.html" class="nav-link">
  Chrome性能分析
</a></li></ul></li><li class="dropdown-item"><h4>
          移动端
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/mobile/cross.html" class="nav-link">
  跨端技术
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/adaptation.html" class="nav-link">
  移动端适配
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/h5.html" class="nav-link">
  移动端h5开发
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/long-list.html" class="nav-link">
  长列表优化
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/galacean.html" class="nav-link">
  galacean
</a></li><li class="dropdown-subitem"><a href="/myblog/mobile/gc-3d.html" class="nav-link">
  galacean 3d
</a></li></ul></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/design-pattern/design-pattern.html" class="nav-link">
  设计模式简介
</a></li><li class="dropdown-subitem"><a href="/myblog/design-pattern/object.html" class="nav-link">
  面向对象编程
</a></li></ul></li><li class="dropdown-item"><h4>
          虚拟DOM
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/virtual-dom/virtualdom.html" class="nav-link">
  Virtual DOM
</a></li><li class="dropdown-subitem"><a href="/myblog/virtual-dom/example.html" class="nav-link">
  实例
</a></li></ul></li><li class="dropdown-item"><h4>
          渲染相关
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/webgl/canvas.html" class="nav-link">
  canvas 和 svg
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具系列" class="dropdown-title"><span class="title">工具系列</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具系列" class="mobile-dropdown-title"><span class="title">工具系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myblog/tool/tool.html" class="nav-link">
  常用工具和插件
</a></li><li class="dropdown-item"><!----> <a href="/myblog/tool/npm.html" class="nav-link">
  依赖管理工具
</a></li><li class="dropdown-item"><!----> <a href="/myblog/tool/camera.html" class="nav-link">
  相机基础
</a></li><li class="dropdown-item"><!----> <a href="/myblog/tool/performance.html" class="nav-link">
  performance
</a></li><li class="dropdown-item"><h4>
          第三方包
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/myblog/tool/postcss.html" class="nav-link">
  postcss
</a></li><li class="dropdown-subitem"><a href="/myblog/tool/babel.html" class="nav-link">
  babel
</a></li><li class="dropdown-subitem"><a href="/myblog/tool/htmlparser2.html" class="nav-link">
  htmlparser2
</a></li><li class="dropdown-subitem"><a href="/myblog/tool/yaml.html" class="nav-link">
  yaml
</a></li></ul></li></ul></div></div> <a href="https://github.com/jinjingxuan" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/myblog/blockchain/info.html" class="sidebar-link">信息整理</a></li><li><a href="/myblog/blockchain/learn1.html" class="sidebar-link">北大肖臻老师《区块链技术与应用》公开课学习 1</a></li><li><a href="/myblog/blockchain/learn2.html" class="sidebar-link">北大肖臻老师《区块链技术与应用》公开课学习 2</a></li><li><a href="/myblog/blockchain/learn3.html" class="sidebar-link">北大肖臻老师《区块链技术与应用》公开课学习 3</a></li><li><a href="/myblog/blockchain/learn4.html" class="sidebar-link">北大肖臻老师《区块链技术与应用》公开课学习 4</a></li><li><a href="/myblog/blockchain/learn5.html" class="sidebar-link">北大肖臻老师《区块链技术与应用》公开课学习 5</a></li><li><a href="/myblog/blockchain/learn6.html" class="sidebar-link">北大肖臻老师《区块链技术与应用》公开课学习 6</a></li><li><a href="/myblog/blockchain/learn7.html" aria-current="page" class="active sidebar-link">北大肖臻老师《区块链技术与应用》公开课学习 7</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#权益证明" class="sidebar-link">权益证明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#两边下注" class="sidebar-link">两边下注</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#以太坊权益证明" class="sidebar-link">以太坊权益证明</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#智能合约" class="sidebar-link">智能合约</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#智能合约的优点" class="sidebar-link">智能合约的优点</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#智能合约的应用" class="sidebar-link">智能合约的应用</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#智能合约的调用" class="sidebar-link">智能合约的调用</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#智能合约的创建与运行" class="sidebar-link">智能合约的创建与运行</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#汽油费" class="sidebar-link">汽油费</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#错误处理" class="sidebar-link">错误处理</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#嵌套调用" class="sidebar-link">嵌套调用</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#挖矿与智能合约执行" class="sidebar-link">挖矿与智能合约执行</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#地址类型" class="sidebar-link">地址类型</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#code-is-law" class="sidebar-link">code is law</a></li><li class="sidebar-sub-header"><a href="/myblog/blockchain/learn7.html#锁仓" class="sidebar-link">锁仓</a></li></ul></li></ul></li><li><a href="/myblog/blockchain/learn8.html" class="sidebar-link">北大肖臻老师《区块链技术与应用》公开课学习 8</a></li><li><a href="/myblog/blockchain/base.html" class="sidebar-link">常见概念</a></li><li><a href="/myblog/blockchain/js.html" class="sidebar-link">web3.js和ethers.js</a></li><li><a href="/myblog/blockchain/ethersjs.html" class="sidebar-link">Ethers.js</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="北大肖臻老师《区块链技术与应用》公开课学习-7"><a href="#北大肖臻老师《区块链技术与应用》公开课学习-7" class="header-anchor">#</a> 北大肖臻老师《区块链技术与应用》公开课学习 7</h1> <ul><li>学习地址：<a href="https://www.bilibili.com/video/BV1Vt411X7JF" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1Vt411X7JF<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>参考文章：[北京大学肖臻老师《区块链技术与应用》公开课笔记24——ETH权益证明篇](https://blog.nowcoder.net/n/a509ac93c75242438e71cb47fe59229c、<a href="https://blog.csdn.net/Mu_Xiaoye/article/details/104615168" target="_blank" rel="noopener noreferrer">北京大学肖臻老师《区块链技术与应用》公开课笔记25——ETH智能合约篇1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="权益证明"><a href="#权益证明" class="header-anchor">#</a> 权益证明</h2> <p>比特币的挖矿过程，消耗了巨大的电力，并且能耗随时间不断增长，平均每一个交易消耗 <code>1000</code> 度电。同样地以太坊平均每一个交易消耗 <code>67</code> 度电。</p> <blockquote><p>矿工为什么要挖矿？因为要获得出块奖励。为什么要给矿工奖励？因为激励矿工参与区块链的维护。
挖矿的收益是由『拼钱』（买矿机）决定的，那么既然是拼钱，我们直接把钱拿出来比一比行不行？与其买矿机挖矿，我们不如把钱投入到区块链的维护当中，由投入资金的比例来决定最终的收益。这就是 <code>proof of stake</code> 权益证明的思想。</p></blockquote> <p>优点：</p> <ul><li>省去了挖矿的过程，减少了能耗，减少了温室气体的排放。</li> <li>维护区块链安全的资源形成闭环，而 POW 中维护其安全的资源需要通过现实中流通的货币购买矿机等设备，这也就导致只要有人想要攻击，只需要外部聚集足够资金达到 51% 算力就可以攻击成功。主流的货币抗攻击能力还比较强，刚刚发行的小币种，遇到这种攻击是致命的。<code>Altcoin Infanticide</code>。</li></ul> <p>权益证明是基于拥有的币，如果想发动攻击必须获取一半以上的币，无论你在外部有多少的资金，都不会对加密货币系统造成直接的影响，你只能花钱买到足够多的币才可以（内部闭环），如果一旦有人花钱大量买币，会导致价格大涨，这对开发者是有好处的可以大赚一笔。</p> <h3 id="两边下注"><a href="#两边下注" class="header-anchor">#</a> 两边下注</h3> <p>假如一个区块链出现了分叉，如果挖矿会沿着最长合法链去挖，虽然另一条也有可能成为最长合法链，但是你只会沿着一条去挖。但是如果是权益证明，你可以两边都下注。</p> <h3 id="以太坊权益证明"><a href="#以太坊权益证明" class="header-anchor">#</a> 以太坊权益证明</h3> <p><code>Casper the Friendly Finality Gadget(FFG)</code></p> <p><code>Casper</code> 协议引入一个概念 <code>validator</code> 验证者，想成为 <code>validator</code> 必须投入一定的保证金，保证金会被系统锁定。他的职责是推动系统达成共识，投票决定哪条链成为最长合法链，投票的权重为保证金的数目。第一轮投票是 <code>prepare message</code>，第二轮投票是 <code>commit message</code>，每一轮投票都要得到 <code>2/3</code> 以上的验证者同意。实际上 <code>100</code> 个区块的 <code>epoch</code> 分成两个 <code>50</code> 个区块，每 <code>50</code> 个区块结束后就进行一轮投票。</p> <blockquote><p>矿工挖矿会获得出块奖励，而验证者也会得到相应奖励。当然某个验证者行政不作为，不参与投票导致系统迟迟无法达成共识，这时扣掉部分保证金；如果某个验证者乱作为，给两边都进行投票，被发现后没收全部保证金。没收后的保证金直接销毁掉。
每个验证者有一定时间的任期，在任期结束后，进入等待期，在此期间等待其他节点检举揭发是否存在不良行为，若通过等待期，则可以取回保证金并获得一定奖励。</p></blockquote> <p>通过验证者投票达成的 <code>Finality</code>，有没有可能被推翻？</p> <blockquote><p>假如某个恶意的组织要发生攻击，假如他们是矿工的话，没有验证者作为同伙则无法推翻 <code>Finality</code>。矿工无论算力多么强，最终投票权都不在其手中。
必须在系统中，存在大量验证者进行了两边投票，也就是说，至少 <code>1/3</code>（该协议规定超过2/3才有效）的验证者两侧都投票，才会导致系统被篡改。而这一旦被发现，这 <code>1/3</code> 验证者的保证金将会被没收。</p></blockquote> <p><strong>以太坊系统设想，随着时间推移，挖矿奖励逐渐减少而权益证明奖励逐渐增多，从而实现POW到POS的过渡，最终实现完全放弃挖矿。</strong></p> <p>既然权益证明这么好，那么为什么没有推广开来？</p> <blockquote><p>比特币和以太坊的机制都经过了 <code>bug bounty</code>，工作量证明已经得到了事实检验，该机制较为成熟。
例如 <code>EOS</code> 柚子加密货币，它用的就是权益证明的思想，用的是 <code>DPOS：Delegated Proof of Stake</code> 协议，通过投票选 21 个超级节点，再由超级节点产生区块。基于权益证明的机制仍然处于探索阶段。</p></blockquote> <p>有人认为挖矿消耗的电并不是很多，而且其对于环境的影响是有限的。很多人对工作量证明其实是反感做的是无用功。挖矿提供了将电能转换为钱的手段，而电能本身难以传输和存储。挖矿为将多余的电能转换为有价值的货币提供了很好的解决手段。也就是说挖矿消耗电能可以有效消耗过剩产能，带动当地经济发展。</p> <h2 id="智能合约"><a href="#智能合约" class="header-anchor">#</a> 智能合约</h2> <p>智能合约的概念最早是由 <code>Nick Szabo</code> 在 <code>1994</code> 年提出的。智能合约是一个计算机层面的交易协议，用于执行一系列的合约项。合约旨在满足一些常见的合约条件。</p> <p>很多区块链网络使用的智能合约功能类似于自动售货机或者说是一个<strong>电子合同</strong>。智能合约与自动售货机类比：如果你向自动售货机（类比分类账本）转入比特币或其他加密货币，一旦输入满足智能合约代码要求，它会自动执行双方约定的义务。</p> <h3 id="智能合约的优点"><a href="#智能合约的优点" class="header-anchor">#</a> 智能合约的优点</h3> <ul><li>自治 智能合约独立运行在遍布世界各地的计算机上，不依赖于任何中心化的系统。</li> <li>可信 智能合约可信的特点是基于分布式账本的，这些账本可以执行并验证合约。</li> <li>鲁棒性 智能合约存在于分布式的网络中，单点缺失或破坏并不会有影响。</li> <li>速度 智能合约的去中心化的处理过程可以在短时间内完成对业务逻辑的处理。</li> <li>经济 智能合约消除了对律师、见证人以及其他中间机构所构成的庞大的中介链的需求。</li></ul> <h3 id="智能合约的应用"><a href="#智能合约的应用" class="header-anchor">#</a> 智能合约的应用</h3> <blockquote><p>知识产权保护：智能合约可以帮助创作者保护他们的知识产权，由于对 <code>NFT</code> 等数字商品的担忧，这一点变得越来越重要。创作者可以使用智能合约，在交易过程中转移或保留他们对某一内容的所有权。例如，<code>NFT</code> 创造者可能希望保留对其艺术作品的所有权，同时将代币的所有权转让给买方。在 <code>NFT</code> 的智能合约中，他们可以概述明确的所有权和支付条款，以保护他们的权利。
艺术家也可以使用智能合约获得版税。任何时候，只要他们的艺术作品的 <code>NFT</code> 或副本售出，智能合约就可以触发分销商向艺术家的自动付款。</p></blockquote> <h3 id="智能合约的调用"><a href="#智能合约的调用" class="header-anchor">#</a> 智能合约的调用</h3> <p>以太坊中智能合约编写代码为 <code>Solidity</code>，其语法与 <code>JavaScript</code> 很接近。
调用智能合约其实和转账类似，比如 <code>A</code> 发起一个交易转账给 <code>B</code>，如果 <code>B</code> 是一个普通的账户这就是一次普通转账，但是 <code>B</code> 如果是一个合约账户，这就是发起了对 <code>B</code> 合约的调用。<strong>外部账户可以调用合约账户，合约账户也可以调用合约账户</strong></p> <h3 id="智能合约的创建与运行"><a href="#智能合约的创建与运行" class="header-anchor">#</a> 智能合约的创建与运行</h3> <p><code>EVM</code> 设计思想类似于 <code>JAVA</code> 中的 <code>JVM</code> ，便于跨平台增强可移植性。<code>EVM</code> 中寻址空间 <code>256位</code>，而目前个人机主流位 <code>32位</code>和 <code>64位</code>，与之存在较大差距。</p> <p><img src="/myblog/assets/img/eth-ex5.5871d97d.jpg" alt=""></p> <h3 id="汽油费"><a href="#汽油费" class="header-anchor">#</a> 汽油费</h3> <p>比特币相比于以太坊很简单，脚本语言都不支持循环。而以太坊提供图灵完备的平台，从而使得以太坊相对于比特币可以实现很多功能，但这也导致一些问题，例如当一个全节点收到一个对智能合约调用怎么知晓其是否会导致死循环。</p> <p>事实上无法预知其是否会导致死循环，实际上该问题是一个停机问题，而停机问题不可解。因此，以太坊引入汽油费机制将该问题扔给了发起交易的账户。以太坊规定执行合约中指令需要收取汽油费，并且由发起交易的人进行支付。</p> <p><img src="/myblog/assets/img/eth-ex6.f8101817.jpg" alt=""></p> <ul><li>Price: 单位汽油价格</li> <li>GasLimit: 愿意支付最大汽油量</li> <li>Recipient: 收款人地址</li> <li>Amount: 转账金额</li> <li>Payload: data 域</li></ul> <p>当一个全节点收到一个对智能合约的调用，先按照最大汽油费收取从其账户一次性扣除，再根据实际执行情况多退少补(汽油费不够会引发回滚，而非简单的补齐)。一般计算量较大、存储量较大的复杂指令的汽油费比较贵。</p> <blockquote><p>以太坊中存在 <code>gaslimit</code>，通过收取汽油费保障系统中不会存在对资源消耗特别大的调用。但与比特币不同，比特币直接通过限制区块大小 <code>1MB</code> 保障对网络资源压力不会过大，这 <code>1MB</code> 大小是固定的无法修改。而以太坊中每个矿工都可以以前一个区块中 <code>gaslimt</code> 为基数，进行上调或下调 <code>1/1024</code>，从而通过绝大多数区块不断上下调整，保证得到一个较为理想化的 <code>gaslimt</code> 值。最终整个系统的 <code>gaslimt</code> 就是所有矿工希望的平均值。</p></blockquote> <blockquote><p>在比特币系统中，交易是比较简单的，仅仅是转账操作，也就是说可以通过交易的字节数衡量出交易所需要消耗的资源多少。但以太坊中引入了智能合约，而智能合约逻辑很复杂，其字节数与消耗资源数并无关联。存在某些交易，从字节数来看很小，但其实际消耗资源很大(例如调用其他合约等)，因此要根据交易的具体操作收费，所有引入了汽油费这一概念。
在 <code>block header</code> 中包含了 <code>gaslimit</code>，其并非将所有交易的消耗汽油费相加，而是该区块中所有交易能够消耗的资源的上限。</p></blockquote> <p>汽油费是怎么扣除的？</p> <blockquote><p>首先，之前在以太坊数据结构中介绍了以太坊中三棵树——状态树、交易树、收据树。这三棵树都位于全节点中，是全节点在本地维护的数据结构，记录了每个账户的状态等数据，所以该节点收到调用时，是在本地对该账户的余额减掉即可。所以多个全节点每人扣一次，仅仅是每个全节点各自在本地扣一次。
也就是说，智能合约在执行过程中，修改的都是本地的数据结构，只有在该智能合约被发布到区块链上，所有节点才需要同步状态，各自在本地执行该智能合约。</p></blockquote> <h3 id="错误处理"><a href="#错误处理" class="header-anchor">#</a> 错误处理</h3> <p>以太坊中交易具有原子性，要么全执行，要么全不执行，不会只执行一部分(包含普通转账交易和智能合约)。在执行过程中产生错误导致回滚，已经消耗掉的汽油费是不会退回的。从而有效防止了恶意节点对全节点进行恶意调用。</p> <p><img src="/myblog/assets/img/eth-ex7.c5a08e76.jpg" alt=""></p> <h3 id="嵌套调用"><a href="#嵌套调用" class="header-anchor">#</a> 嵌套调用</h3> <p><img src="/myblog/assets/img/eth-ex8.1edb16a6.jpg" alt=""></p> <h3 id="挖矿与智能合约执行"><a href="#挖矿与智能合约执行" class="header-anchor">#</a> 挖矿与智能合约执行</h3> <p>假设全节点要打包一些交易到区块中，其中存在某些交易是对智能合约的调用。全节点应该先执行智能合约再挖矿，还是先挖矿获得记账权后执行智能合约？</p> <p>如果先挖矿后执行智能合约会如何？</p> <blockquote><p>智能合约会导致数据结构发生改变，从而修改掉区块中的内容，那么之前挖矿时挖到的 <code>nonce</code> 是不适用于此时修改过后的 <code>block</code>的，也就是说执行智能合约后的区块并非之前的区块，之前的 <code>nonce</code> 不能适用于当前区块，从而无法被加入到区块链中。挖矿导致三棵树数据结构改变，之前挖到的矿就无效了。所以，在以太坊系统中，必然是先执行智能合约，后挖矿。</p></blockquote> <p>假如某个矿工执行智能合约消耗了很多资源，但是记账权被别人拿到了，矿工会得到什么补偿？</p> <blockquote><p>汽油费是没有的，只给获得记账权发布区块的那个矿工进行补偿。以太坊中没有任何补偿，不仅如此还要把发布区块中的交易执行一次更新三棵树的内容算出根哈希值，和别人发布的进行比较。这种情况下挖矿慢的矿工特别吃亏。</p></blockquote> <p>会不会有的矿工想不开，你不给我汽油费，那我就不验证你发布区块的正确性？</p> <blockquote><p>这种情况如果发生最直接的后果是危害区块链的安全。如果他跳过验证过程，本地三棵树的内容没有更新，算出的根哈希值就不对了，以后发布的区块就没人会认了。</p></blockquote> <p>发布到区块链上的交易，是不是都是成功执行的？智能合约发生错误，要不要也发不到区块链上去？</p> <blockquote><p>不一定，执行发生错误的交易也要发布到区块链上去，这样才能成功扣除汽油费。如果交易不被发布到区块链上，是无法收取汽油费的。</p></blockquote> <p>智能合约支持多线程吗？</p> <blockquote><p>多核处理器很常见，计算机可以有很多核，那么智能合约支不支持多核并行处理呢。<code>Solidity</code> 不支持多线程，因为以太坊本质为一个交易驱动的状态机，给定一个智能合约，面对同一组输入，必须转移到一个确定的状态，因为所有的全节点都要执行同一组操作来验证。但对于多线程来说，同一组输入的输入顺序不同，最终的结果可能不一致。
此外，其他可能导致执行结果不确定的操作也不支持，例如：产生随机数。因此，以太坊中的随机数是伪随机数，不能产生真正意义的随机数。
也正是因为其不支持多线程，所以无法通过系统调用获得系统信息，因为每个全节点环境并非完全一样。因此只能通过固定的结构获取。下图分别为为其可以获得的区块链信息和调用信息。</p></blockquote> <p><img src="/myblog/assets/img/eth-ex9.1e6bf73c.jpg" alt=""></p> <p><img src="/myblog/assets/img/eth-ex10.4a16901b.jpg" alt=""></p> <h3 id="地址类型"><a href="#地址类型" class="header-anchor">#</a> 地址类型</h3> <p><img src="/myblog/assets/img/eth-ex11.8c037f39.jpg" alt=""></p> <p>在以太坊中，转账有以下三种方法。</p> <ul><li>transfer: 在转账失败后会导致连锁性回滚，抛出异常；</li> <li>send: 转账失败会返回false，不会导致连锁性回滚</li> <li>call: 本意是用于发动函数调用，但是也可以进行转账</li></ul> <h3 id="code-is-law"><a href="#code-is-law" class="header-anchor">#</a> code is law</h3> <p>Code is law！智能合约规则是代码逻辑决定的，而发布到区块链上后就再也无法修改。这样的好处是，没有人可以篡改规则；这一的坏处是，规则如果有漏洞，也无法进行修改和补救。智能合约如果设计的不够好，就有可能将收到的以太币永久性锁死，谁也取不出来。</p> <h3 id="锁仓"><a href="#锁仓" class="header-anchor">#</a> 锁仓</h3> <blockquote><p>通过智能合约进行锁仓。例如某个团队决定一起开发某个新型加密货币，开发中进行“pre mining”，给开发者预留一部分币。将这些预留币打入到一个合约账户，锁仓三年。三年后，这些币才可以参与交易，从而便于开发者可以集中精力进行这种加密货币开发工作。
但是万一在写入时候多写一个0，从3年变成30年，那这些币就会被锁仓30年，没有任何办法取出这些币。这有些类似于【不可撤销的信托(irrevocable trust)】，有些有钱人会采用这种方式来达到财产保护和减税的目的。如果在制定这种不可撤销的信托时，法律条款设置存在漏洞，也可能会导致存入的钱无法取出。
因此，在发布一个智能合约之前，需要进行大量、严格的测试。可以去专门的 testnet 网站上，采用虚假的以太币进行测试，确认完全没有问题后再发布。</p></blockquote> <p>是否可以在智能合约中留一个后门，用于修复bug？例如给合约创建者超级用户的权力
例如前文例子，记录owner，记录owner的地址，当出现这种问题后其可以及时进行修复。这样做，会存在owner卷款跑路的风险。这样做前提是所有人都要相信这个超级管理员，而这于去中心化的理念背道而驰，是绝大多数区块链用户所不能接受的。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">6/25/2023, 4:30:00 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/myblog/blockchain/learn6.html" class="prev">
        北大肖臻老师《区块链技术与应用》公开课学习 6
      </a></span> <span class="next"><a href="/myblog/blockchain/learn8.html">
        北大肖臻老师《区块链技术与应用》公开课学习 8
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/myblog/assets/js/app.9f4db6d8.js" defer></script><script src="/myblog/assets/js/2.08803d47.js" defer></script><script src="/myblog/assets/js/1.a370845a.js" defer></script><script src="/myblog/assets/js/25.930d64a8.js" defer></script>
  </body>
</html>
